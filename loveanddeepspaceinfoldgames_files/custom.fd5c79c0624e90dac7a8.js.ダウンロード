(self.webpackChunkdeepspace_activity_i18n=self.webpackChunkdeepspace_activity_i18n||[]).push([[386],{693:(t,e,r)=>{"use strict";r.d(e,{bS:()=>wr});var n=r(1396),o=r(8987);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function u(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var f=function(){function t(){a(this,t),l(this,"cache",void 0),this.cache={}}return u(t,[{key:"set",value:function(t,e){this.cache[t]=e}},{key:"get",value:function(t){return this.cache[t]}},{key:"clear",value:function(t){this.cache[t]=void 0}},{key:"getCookie",value:function(t){this.get(t)}},{key:"setCookie",value:function(t,e){this.set(t,e)}}]),t}(),p={get:function(t){try{var e=sessionStorage.getItem(t),r=e;try{e&&"string"===typeof e&&(r=JSON.parse(e))}catch(n){}return r||""}catch(n){}return""},set:function(t,e){try{var r="string"===typeof e?e:JSON.stringify(e);sessionStorage.setItem(t,r)}catch(n){}},clear:function(t){try{sessionStorage.removeItem(t)}catch(e){}},getCookie:function(t){this.get(t)},setCookie:function(t,e){this.set(t,e)},noSupportSession:function(){try{return sessionStorage.setItem("_miao-test-key","miao"),sessionStorage.getItem("_miao-test-key"),sessionStorage.removeItem("_miao-test-key"),!1}catch(t){return!0}}()},d=function(){function t(e){a(this,t),l(this,"_storage",void 0),this._storage="session"===e?p:"memory"===e?new f:v}return u(t,[{key:"get",value:function(t){return this._storage.get(t)}},{key:"set",value:function(t,e){this._storage.set(t,e)}},{key:"clear",value:function(t){this._storage.clear(t)}},{key:"getCookie",value:function(t,e){return this._storage.getCookie(t,e)}},{key:"setCookie",value:function(t,e,r,n){this._storage.setCookie(t,e,r,n)}}]),t}(),v={set:function(t,e){if(this.noSupportLS)return this._storage.set(t,e);try{var r="string"===typeof e?e:JSON.stringify(e);localStorage.setItem(t,r)}catch(n){}},get:function(t){if(this.noSupportLS)return this._storage.get(t);try{var e=localStorage.getItem(t),r=e;try{e&&"string"===typeof e&&(r=JSON.parse(e))}catch(n){}return r||""}catch(n){}return""},clear:function(t){if(this.noSupportLS)return this._storage.clear(t);try{localStorage.removeItem(t)}catch(e){}},getCookie:function(t){if(this.noSupportLS)return this._storage.getCookie(t);try{return o.A.get(t)}catch(e){return""}},setCookie:function(t,e,r,n){if(this.noSupportLS)return this._storage.setCookie(t,e);try{var i=n||document.domain,a=+new Date+r;o.A.set(t,e,{expires:new Date(a),path:"/",domain:i})}catch(c){}},_storage:new f,noSupportLS:function(){try{return localStorage.setItem("_miao-test-key","miao"),localStorage.getItem("_miao-test-key"),localStorage.removeItem("_miao-test-key"),!1}catch(t){return!0}}(),Storage:d},y=r(4187),h=r(2049),b=r(4736),m=r(6573),g=r(8721),w="pageview",O="pageleave",k="click",S="expose",j=[w,O,k,S],x="tv",P="tt",E="data-".concat(x),_="data-".concat(P),C=r(9610);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R(n.key),n)}}function A(t,e,r){return e&&N(t.prototype,e),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D(t,e,r){return(e=R(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:String(e)}var B=A(function t(e,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,"context",void 0),D(this,"options",void 0),D(this,"effects",void 0),D(this,"start",function(){n.options&&Object.entries(n.options).map(function(t){var e=I(t,2),r=e[0];if(e[1]){var o="register".concat(r.replace(r[0],r[0].toUpperCase())),i=n[o];if(i&&(0,C.A)(i)){var a=i.call(n);n.effects[r]=a.bind(n)}}})}),D(this,"stop",function(){n.options&&Object.entries(n.effects).map(function(t){var e=I(t,2),r=e[0],o=e[1];o&&(0,C.A)(o)&&o(),n.effects[r]=null})}),this.context=e,this.options=r,this.effects={}}),M=r(8207),q=4003,G=500,W=5005;const U=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.timeout,o=r.withCredentials,i=r.success,a=r.fail;if(r.sendBecon&&!function(){var t;return/aweme/i.test(null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t?void 0:t.userAgent)}()&&function(){var t;return!(null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t||!t.sendBeacon)}()){var c=new Blob([(0,M.x)(e)],{type:"application/x-www-form-urlencoded"});window.navigator.sendBeacon(t,c)?null===i||void 0===i||i():null===a||void 0===a||a(t,e,q)}else!function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=r.method,o=r.success,i=r.fail,a=r.timeout,c=r.withCredentials,u=new XMLHttpRequest,l=n||"POST";u.open(l,"".concat(t),!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),c&&(u.withCredentials=!0),a&&(u.timeout=a,u.ontimeout=function(){null===i||void 0===i||i(e,W)}),u.onload=function(){if(o){var t=null;if(u.responseText){try{t=JSON.parse(u.responseText)}catch(r){t={}}o(t,e)}}},u.onerror=function(){u.abort(),null===i||void 0===i||i(e,G)},u.send((0,M.x)(e))}catch(s){}}(t,e,{timeout:n,withCredentials:o,success:i,fail:a})};function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}var K=function(t){var e="";if(null===t||"undefined"===typeof t||""===t)e="";else if("object"===F(t))try{e=JSON.stringify(t)}catch(r){e=""}else e="".concat(t);return e};function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function J(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Q="AdvDownloadClick",H="AdvExpose",V="ClientPayEvent",Y=J(J(J({},Q,"web_ad"),H,"web_ad"),V,"payment"),$=J(J(J(J({},w,"GeneralH5_pageview"),O,"GeneralH5_pageleave"),k,"GeneralH5_Component_click"),S,"GeneralH5_Component_expose");function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Z(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach(function(e){ut(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lt(n.key),n)}}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function it(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=ct(t);if(e){var o=ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}(this,r)}}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function ut(t,e,r){return(e=lt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:String(e)}var st={app:"web",actionKey:"webUpload",clientid:"9995",clientkey:"MTIzMTMxZXdy",requestUri:"/v1/log/sendtlog"},ft="tlog_error_list",pt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(a,t);var e,r,o,i=it(a);function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ut(at(r=i.call(this,t,e)),"bucket",[]),ut(at(r),"baseUrl",void 0),ut(at(r),"errCache",50),r.options=Object.assign({},st,r.options),r.baseUrl=r.options.tlogUrl||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,g.I)();return t.endsWith("CN")?m.ns[e]:m.MU[e]}(r.options.client||"paperCN"),r.getCache(),r}return e=a,r=[{key:"write",value:function(t){if(this.options&&this.baseUrl){for(var e=[],r=0;r<t.length;r++){var n=t[r],o=rt(rt({},n),{},{actionparam:K(n.actionparam).replace(/\n/g,""),extra:K(n.extra).replace(/\n/g,""),part_event:n.action});delete o.action,o.actionname||(o.actionname=$[o.part_event]||""),j.includes(o.part_event)&&(o.part_event=this.options.actionKey+"_"+o.part_event),e.push(o)}this.report(e,this.options.useBeacon)}}},{key:"report",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.forEach(function(t){e._send(t,r,Y[t.part_event]||e.options.app)})}},{key:"_send",value:function(t,e,r){var o=this;if(this.options)try{var i=this.options,a=i.requestUri,c=i.clientkey,u=i.clientid,l=Math.ceil(Date.now()/1e3).toString();U("".concat(this.baseUrl).concat(a),{format:"json",timestamp:l,sig:(0,n.MD5)("".concat(c).concat(l)).toString(),clientid:u,app:r,tlog:this.transTlogList(t)},{sendBecon:e,fail:function(){o.handleError(t)}})}catch(s){this.handleError(t)}}},{key:"handleError",value:function(t){this.context.logger.warn("\u4e0a\u62a5\u9519\u8bef");var e=v.get(ft)||[];Array.isArray(t)||(t=[t]),e.push.apply(e,Z(t)),e.length>this.errCache&&e.splice(0,e.length-this.errCache),v.set(ft,(0,y.A)(e,"uuid"))}},{key:"transTlogList",value:function(t){return(0,h.A)(t)?t.filter(function(t){return(0,b.Gvm)(t)}).map(function(t){return t.flushtime=Date.now(),JSON.stringify(t)}).join("\n"):t?(t.flushtime=Date.now(),JSON.stringify(t)):""}},{key:"getCache",value:function(){var t,e=v.get(ft)||[];e.length&&(v.clear(ft),this.report(e,null===(t=this.options)||void 0===t?void 0:t.useBeacon))}}],r&&nt(e.prototype,r),o&&nt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(B),dt=function(t){return t.Google="gtag",t.Facebook="fbq",t.Twitter="twq",t.TikTok="ttq",t.GameSight="gsght",t}({});function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}var yt="object"===("undefined"===typeof window?"undefined":vt(window))&&window.requestIdleCallback||function(t){return setTimeout(function(){var e=Date.now();t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};"object"===("undefined"===typeof window?"undefined":vt(window))&&window.cancelIdleCallback;function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(r),!0).forEach(function(e){jt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xt(n.key),n)}}function wt(t,e){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wt(t,e)}function Ot(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=St(t);if(e){var o=St(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}(this,r)}}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function jt(t,e,r){return(e=xt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t){var e=function(t,e){if("object"!=ht(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ht(e)?e:String(e)}var Pt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(i,t);var e,r,n,o=Ot(i);function i(t,e){var r,n,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),jt(kt(a=o.call(this,t,e)),"bucket",[]),jt(kt(a),"active",void 0),jt(kt(a),"errorCount",3),jt(kt(a),"pixelType",void 0),jt(kt(a),"runSend",void 0),jt(kt(a),"sending",!1),a.active="https:"===(null===(r=window)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.protocol),a.pixelType=(null===(n=a.options)||void 0===n?void 0:n.pixelType)||[dt.Google],a}return e=i,(r=[{key:"init",value:function(){this.pixelType.length&&this.pixelType.some(function(t){return window[t]})&&(this.runSend=this.transTypeSend(this.pixelType))}},{key:"transTypeSend",value:function(t){return function(e,r,n,o){t.forEach(function(t){var i,a=window[t];if(a&&(!n||t===n))return t===dt.Facebook?a(o||"track",e,r):t===dt.Twitter?a(o||"event",e,r):t===dt.TikTok?null===a||void 0===a||null===(i=a[o||"track"])||void 0===i?void 0:i.call(a,e,r):t===dt.GameSight?a(o||"send",e,r):a(o||"event",e,r)})}}},{key:"write",value:function(t){var e,r=this;if(this.active&&this.runSend){for(var n=[],o=0;o<t.length;o++){var i=t[o],a=i.actionname||i.action;if(!a)return;var c={project:i.project,actionresult:i.actionresult,platform:i.platform,language:i.systemlang,extra:K(i.extra)};n.push({action:a,actionparam:(0,b.Gvm)(i.actionparam)?mt(mt({},c),i.actionparam):c,actiontype:i.actiontype,actionmethod:i.actionmethod})}(e=this.bucket).push.apply(e,n),yt(function(){r.report()})}}},{key:"report",value:function(){if(!this.sending){for(this.sending=!0;this.bucket.length;){var t=this.bucket.shift();try{var e;null===(e=this.runSend)||void 0===e||e.call(this,t.action,t.actionparam,t.actiontype,t.actionmethod)}catch(r){this.context.logger.warn("pixelType send error ! Retries remaining ".concat(this.errorCount)),this.errorCount&&(this.errorCount--,this.bucket.push(t))}}this.sending=!1}}}])&&gt(e.prototype,r),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(B),Et=r(5247),_t=r(7468),Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u5f53\u524d\u8fde\u63a5\u6d4b\u8bd5\u73af\u5883\u63a5\u53e3",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;if(_t.O){var r,n=document.createElement("div");n.style.cssText="position: fixed; bottom: 10px; left: 45%; color: #fff; background: red; line-height: 20px; z-index: 10000; padding: 0 3px; font-size: 12px; border-radius: 3px",n.innerText=t,null===(r=document.querySelector("body"))||void 0===r||r.appendChild(n),setTimeout(function(){var t;null===(t=n.parentNode)||void 0===t||t.removeChild(n)},e)}},Lt=function(){var t=!1;try{t=!1}catch(e){}return t},It=!1,Tt=function(){var t=!1;try{t=!1}catch(r){}var e=t||Lt();return e&&(It||(It=!0,Ct())),e},Nt=function(){var t=!1;try{t=!1}catch(e){}return t};Nt.changeEnv=function(t){t.isMobile=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;return!!_t.O&&document.documentElement.clientWidth<=Number(t)},t.isPC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;return!_t.O||document.documentElement.clientWidth>Number(t)}};var At=Tt;function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Bt(t,e,r){return(e=Mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mt(t){var e=function(t,e){if("object"!=Dt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dt(e)?e:String(e)}var qt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bt(this,"isLog",void 0),Bt(this,"name",void 0),this.isLog=At(),this.name=e||""}var e,r,n;return e=t,(r=[{key:"info",value:function(t){this.isLog}},{key:"warn",value:function(t){this.isLog}},{key:"error",value:function(t){this.isLog}},{key:"throw",value:function(t){throw this.error(this.name),new Error(t)}}])&&Rt(e.prototype,r),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Gt=r(7380).A,Wt=r(3342),Ut=r(9592);function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(r),!0).forEach(function(e){te(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ee(n.key),n)}}function Ht(t,e,r){return e&&Qt(t.prototype,e),r&&Qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function $t(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Zt(t);if(e){var o=Zt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ft(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xt(t)}(this,r)}}function Xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(t)}function te(t,e,r){return(e=ee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ee(t){var e=function(t,e){if("object"!=Ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ft(e)?e:String(e)}var re=function(t){Vt(r,t);var e=$t(r);function r(){var t;Jt(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return te(Xt(t=e.call.apply(e,[this].concat(o))),"sendPage",new Set([])),te(Xt(t),"lastLocation",void 0),te(Xt(t),"lastPageInfo",void 0),t}return Ht(r,[{key:"check",value:function(t){var e;if(null!==(e=this.options)&&void 0!==e&&e.pv&&t.action===Wt.l.PV){var r;if(this.sendPage.has(t.pagename))return!0;this.lastPageInfo&&!t.refpagename&&(t.refpagename=this.lastPageInfo.pagename,t.refpageparam=this.lastPageInfo.pageparam,t.refpageid=this.lastPageInfo.pageid);var n=(0,Ut.P3)(),o=t.pageid||n.pageid||(null===(r=location)||void 0===r?void 0:r.pathname)||"";t.pageid=o,this.lastPageInfo={pagename:t.pagename,pageparam:t.pageparam||K(n),pageid:o},this.context.setCommon(zt({},this.lastPageInfo)),this.sendPage.add(t.pagename)}}},{key:"registerPv",value:function(){var t=this.handleHistoryEvent(),e=this.listenerRoute();return function(){t(),e()}}},{key:"handleHistoryEvent",value:function(){var t=window.history,e=t.pushState,r=t.replaceState,n=function(t){var e=window.history[t];return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=e.apply(window.history,n);return window.dispatchEvent(new Event(t)),i}};return window.history.pushState=n("pushState"),window.history.replaceState=n("replaceState"),function(){window.history.pushState=e,window.history.replaceState=r}}},{key:"listenerRoute",value:function(){var t=this,e=function(){if(t.lastLocation!==window.location.href){t.lastLocation=window.location.href;var e=(t.context.common.pagename||"")+window.location.pathname+window.location.hash;t.sendPage.has(e)&&t.sendPage.delete(e),t.context.write(zt({action:Wt.l.PV,pagename:e},t.context.pvLog||{}))}};return e(),window.addEventListener("popstate",e),window.addEventListener("hashchange",e),window.addEventListener("pushState",e),window.addEventListener("replaceState",e),function(){window.removeEventListener("popstate",e),window.removeEventListener("hashchange",e),window.removeEventListener("pushState",e),window.removeEventListener("replaceState",e)}}}]),r}(B),ne=function(t){Vt(r,t);var e=$t(r);function r(){var t;Jt(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return te(Xt(t=e.call.apply(e,[this].concat(o))),"minDuration",1e3),te(Xt(t),"maxDuration",864e5),te(Xt(t),"pageStartTime",Date.now()),te(Xt(t),"activeStartTime",Date.now()),te(Xt(t),"activeEndTime",void 0),te(Xt(t),"activeTimes",1),te(Xt(t),"totalTime",0),te(Xt(t),"timer",void 0),te(Xt(t),"beforeunload",function(){t.totalTime+=(t.activeEndTime||Date.now())-t.activeStartTime,t.sendEvent()}),t}return Ht(r,[{key:"resetData",value:function(){this.activeStartTime=Date.now(),this.activeEndTime=void 0,this.totalTime=0,this.activeTimes=1}},{key:"sendEvent",value:function(){var t=Date.now()-this.pageStartTime;this.totalTime<this.minDuration||t<0||this.totalTime>=this.maxDuration||(this.context.write({action:Wt.l.PL,actionresult:Math.round(this.totalTime/1e3),extra:{total_duration:Math.round(t/1e3),active_times:this.activeTimes}},!0),this.resetData())}},{key:"registerPl",value:function(){var t=this,e=function(t,e){if(!_t.O)return function(){};var r="hidden",n="visibilitychange",o=document;"undefined"!==typeof o.hidden?(r="hidden",n="visibilitychange"):"undefined"!==typeof(null===o||void 0===o?void 0:o.webkitHidden)&&(r="webkitHidden",n="webkitvisibilitychange");var i=function(n){o[r]||n.hidden||"hidden"===o.visibilityState?null===t||void 0===t||t():null===e||void 0===e||e()};return document.addEventListener(n,i,!1),function(){document.removeEventListener(n,i,!1)}}(function(){t.activeEndTime=Date.now(),t.context.logger.info("hidden")},function(){t.context.logger.info("show"),t.activeEndTime&&(t.totalTime+=t.activeEndTime-t.activeStartTime,t.activeTimes+=1),t.activeEndTime=void 0,t.activeStartTime=Date.now()}),r=this.beforeunload.bind(this);return window.addEventListener("pagehide",r),function(){null===e||void 0===e||e(),window.removeEventListener("pagehide",r)}}}]),r}(B),oe=r(4490),ie=r(9712);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function le(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=fe(t);if(e){var o=fe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ae(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return se(t)}(this,r)}}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function pe(t){var e=function(t,e){if("object"!=ae(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ae(e)?e:String(e)}var de=v.Storage,ve=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(i,t);var e,r,n,o=le(i);function i(t){var e,r,n,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t),r=se(e),a=void 0,(n=pe(n="sessionDB"))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,e.sessionDB=new de("session"),e}return e=i,r=[{key:"common",value:function(t){var e=this.base(t),r=this.system(),n=this.params(),o=this.user();return Object.assign(e,r,n,o),e}},{key:"base",value:function(t){var e;return{uuid:function(){return(0,Et.Ak)()},sessionid:this.getSession(),seqid:function(){return(0,oe.Qk)()},deviceid:(0,oe.X2)(),webid:(0,oe.X2)(),isnew:this.getNewStatus(),dteventtime:function(){return ie.kB.formatDate(new Date,"YY-MM-DD hh:mm:ss").formatTime},part_date:function(){return ie.kB.formatDate(new Date,"YY-MM-DD").formatTime},flushtime:function(){return Date.now()},eventtimestamp:function(){return Date.now()},project:t.project,pageid:t.pageid||(null===(e=location)||void 0===e?void 0:e.pathname)||""}}},{key:"system",value:function(){var t,e,r,n,o,i,a,c=null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t?void 0:t.userAgent,u=null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e?void 0:e.language,l=document.referrer,s=l?(0,Ut.VN)(l).hostname:"",f=this.browser(),p=this.os(),d=p.os_name;return{sdkversion:"1.2",systemtype:"ios"===d?"ios":"android"===d?"android":"other",systemdevicetype:this.getDeviceModel(d),osname:d,systemname:d,osversion:p.os_version,platform:"ios"===d||"android"===d?"h5":"pc",browser:f.browser,browserversion:f.browser_version,systemlang:u,screenwidth:Number((null===(r=window)||void 0===r||null===(r=r.screen)||void 0===r?void 0:r.width)||0),screenheight:Number((null===(n=window)||void 0===n||null===(n=n.screen)||void 0===n?void 0:n.height)||0),timezone:ie.kB.getTimezone()+"",webtimezone:ie.kB.getTimezone()+"",useragent:c,network:(null===(o=window)||void 0===o||null===(o=o.navigator)||void 0===o||null===(o=o.connection)||void 0===o?void 0:o.effectiveType)||"",referrer:l,referrersource:this.transSource(s),pageurl:function(){var t;return null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href},pagetitle:function(){return document.title},width:null===(i=window)||void 0===i?void 0:i.innerWidth,height:null===(a=window)||void 0===a?void 0:a.innerHeight}}},{key:"params",value:function(){var t=(0,Ut.P3)();return{pageparam:K(t),refpageid:t.refpageid||"",refpagename:t.refpagename||"",refpageparam:t.refpageparam||"",linkid:t.linkid||t.link_id||"",acode:t.acode||t.a_code||"",clientid:t.clientid||t.client_id||"",vgameappid:t.clientid||t.client_id||"",source:t.source||""}}},{key:"user",value:function(){return{appid:"",vopenid:"",vroleid:"",doid:"",componentid:"",resourceid:"",action:"",actionname:"",actionparam:"",actionresult:0,extra:"",features:"",z1:"",z2:"",z3:"",z4:"",z5:"",z6:"",z7:"",z8:0,z9:0,z10:0}}},{key:"transSource",value:function(t){return t&&location.hostname!==t?t.includes(".weibo.")?"Weibo":t.includes("baidu.com")?"Baidu":t.includes("so.com")?"360":t.includes("sogou.com")?"Sogou":t.includes("t.co")?"Twitter":t.includes("facebook.com")?"Facebook":t.includes("google.com")?"Google":t.includes("bing.com")?"Bing":"Other":"Self"}},{key:"getSession",value:function(){var t="".concat("tlog","_chain_session"),e=this.sessionDB.get(t);return e||(e=(0,oe.Ob)(),this.sessionDB.set(t,e)),e}},{key:"browser",value:function(){var t,e,r,n,o="",i="".concat(parseFloat(null===(t=window)||void 0===t?void 0:t.navigator.appVersion)),a=null===(e=window)||void 0===e?void 0:e.navigator.userAgent;return-1!==a.indexOf("Edge")||-1!==a.indexOf("Edg")?(o="Microsoft Edge",-1!==a.indexOf("Edge")?(r=a.indexOf("Edge"),i=a.substring(r+5)):(r=a.indexOf("Edg"),i=a.substring(r+4))):-1!==(r=a.indexOf("MSIE"))?(o="Microsoft Internet Explorer",i=a.substring(r+5)):-1!==(r=a.indexOf("Lark"))?(o="Lark",i=a.substring(r+5,r+11)):-1!==(r=a.indexOf("MetaSr"))?(o="sougoubrowser",i=a.substring(r+7,r+10)):-1!==a.indexOf("MQQBrowser")||-1!==a.indexOf("QQBrowser")?(o="qqbrowser",-1!==a.indexOf("MQQBrowser")?(r=a.indexOf("MQQBrowser"),i=a.substring(r+11,r+15)):-1!==a.indexOf("QQBrowser")&&(r=a.indexOf("QQBrowser"),i=a.substring(r+10,r+17))):-1!==a.indexOf("Chrome")?-1!==(r=a.indexOf("MicroMessenger"))?(o="weixin",i=a.substring(r+15,r+20)):-1!==(r=a.indexOf("360"))?(o="360browser",i=a.substring(a.indexOf("Chrome")+7)):-1!==a.indexOf("baidubrowser")||-1!==a.indexOf("BIDUBrowser")?(-1!==a.indexOf("baidubrowser")?(r=a.indexOf("baidubrowser"),i=a.substring(r+13,r+16)):-1!==a.indexOf("BIDUBrowser")&&(r=a.indexOf("BIDUBrowser"),i=a.substring(r+12,r+15)),o="baidubrowser"):-1!==(r=a.indexOf("xiaomi"))?-1!==a.indexOf("openlanguagexiaomi")?(o="openlanguage xiaomi",i=a.substring(r+7,r+13)):(o="xiaomi",i=a.substring(r-7,r-1)):-1!==(r=a.indexOf("TTWebView"))?(o="TTWebView",i=a.substring(r+10,r+23)):-1!==(r=a.indexOf("Quark"))?(o="Quark",i=a.substring(r+6,r+15)):-1!==(r=a.indexOf("VivoBrowser"))?(o="VivoBrowser",i=a.substring(r+12)):-1!==(r=a.indexOf("UCBrowser"))?(o="UCBrowser",i=a.substring(r+10,r+21)):-1!==(r=a.indexOf("HeyTapBrowser"))?(o="HeyTapBrowser",i=a.substring(r+14)):-1!==(r=a.indexOf("Chrome"))&&(o="Chrome",i=a.substring(r+7)):-1!==a.indexOf("Safari")?-1!==(r=a.indexOf("QQ"))?(o="qqbrowser",i=a.substring(r+10,r+16)):-1!==(r=a.indexOf("Quark"))?(o="Quark",i=a.substring(r+6)):-1!==(r=a.indexOf("Safari"))&&(o="Safari",i=a.substring(r+7),-1!==(r=a.indexOf("Version"))&&(i=a.substring(r+8))):-1!==(r=a.indexOf("Firefox"))?(o="Firefox",i=a.substring(r+8)):-1!==(r=a.indexOf("MicroMessenger"))?(o="weixin",i=a.substring(r+15,r+20)):-1!==(r=a.indexOf("QQ"))?(o="qqbrowser",i=a.substring(r+3,r+8)):-1!==(r=a.indexOf("Opera"))&&(o="Opera",i=a.substring(r+6),-1!==(r=a.indexOf("Version"))&&(i=a.substring(r+8))),-1!==(n=i.indexOf(";"))&&(i=i.substring(0,n)),-1!==(n=i.indexOf(" "))&&(i=i.substring(0,n)),-1!==(n=i.indexOf(")"))&&(i=i.substring(0,n)),{browser:o,browser_version:i}}},{key:"os",value:function(){for(var t="",e="",r=navigator.userAgent,n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],o=0;o<n.length;o++){var i=n[o];if(i.r.test(r)){"Mac OS X"===(t=i.s)&&this.isNewIpad()&&(t="iOS");break}}var a=function(t,e){var r=t.exec(e);return null!==r&&void 0!==r&&r[1]?r[1]:""},c=function(t,e){var r=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:".concat(t,")"),"i").exec(e);return r?r.slice(1)[0]:""};switch(/Windows/.test(t)&&(e=a(/Windows (.*)/,t),t="windows"),t){case"Mac OS X":e=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",r),t="mac";break;case"Android":e=function(t){var e=a(/Android ([\.\_\d]+)/,t);return e||(e=a(/Android\/([\.\_\d]+)/,t)),e}(r),t="android";break;case"iOS":e=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",r):(e=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))?"".concat(e[1],".").concat(e[2],".").concat(0|e[3]):"",t="ios"}return{os_name:t,os_version:e}}},{key:"getDeviceModel",value:function(t){var e="";try{if("android"===t){var r=navigator.userAgent.split(";");r.forEach(function(t,n){t.indexOf("Build/")>-1?e=t.slice(0,t.indexOf("Build/")).trim():(t.indexOf("HarmonyOS")>-1||t.indexOf("Android")>-1)&&(e=r[n+1].trim())})}else if("ios"===t||"mac"===t||"windows"===t)if(this.isNewIpad())e="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),o=n.indexOf(";");e=n.slice(0,o)}}catch(i){return e.trim()}return e.trim()}},{key:"isNewIpad",value:function(){return void 0!==window.navigator.userAgent&&"MacIntel"===navigator.platform&&"number"===typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1}},{key:"getNewStatus",value:function(){var t=(0,oe.X2)().match(/\d{14}/g);if(t&&t.length>0){var e=t[0].match(/\d{2}/g),r=ie.kB.formatDate(new Date,"YY-MM-DD").formatTime;if(e)return e[0]+e[1]+"-"+e[2]+"-"+e[3]===r?1:2}return 1}}],r&&ce(e.prototype,r),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(B);function ye(t,e){var r=function(t){if(t){var e=t.getBoundingClientRect(),r=e.width,n=e.height;return{left:e.left,top:e.top,width:Math.floor(r),height:Math.floor(n)}}}(t);if(r.xpath=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,r=t.nodeName,n=t.path;if(n)return n;if("BODY"===r||"HTML"===r||"HEAD"===r)return r;var o=[],i=t,a=t.parentNode,c=function(t){var e=t.nodeName,r=t.parentNode;return r?[].filter.call(r.childNodes,function(t){return t.nodeName===e}).indexOf(t):-1};if("#"===r[0]){var u=c(t);o.push("".concat(r,":").concat(u)),a=(i=a).parentNode}for(;a&&i!==e;){var l=i.nodeName;if("BODY"===l||"HTML"===l||"HEAD"===l)o.push(l);else{var s=c(i);o.push("".concat(l.toLowerCase(),":").concat(s))}a=(i=a).parentNode}return o.reverse(),o.join("/")}(t),e){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.clientX,n=t.clientY,o=t.pageX,i=t.pageY,a=e.left,c=e.top,u=r-a>=0?r-a:0,l=n-c>=0?n-c:0;return{touch_x:Math.floor(u),touch_y:Math.floor(l),page_x:Math.floor(o),page_y:Math.floor(i)}}(e,r);Object.assign(r,n)}return r}var he=function(t){try{var e=t;try{t&&"string"===typeof t&&(e=JSON.parse(t))}catch(r){}return e||{}}catch(r){}return{}},be=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tc";if(1!==e.nodeType)return!1;if(["HTML","BODY"].includes(e.tagName.toUpperCase()))return!1;var n=e;return!!n&&("none"!==n.style.display&&(n.dataset&&n.dataset.hasOwnProperty(r)?n.dataset[r]:!!n.parentElement&&t(n.parentElement,r)))};function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach(function(e){Oe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Oe(t,e,r){return(e=Se(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Se(n.key),n)}}function Se(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==me(e)?e:String(e)}function je(t,e){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},je(t,e)}function xe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Pe(t);if(e){var o=Pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===me(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pe(t)}var Ee=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&je(t,e)}(i,t);var e,r,n,o=xe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"registerEvent",value:function(t){var e=this,r=function(t){var r=be(t.target);if(r){var n=he(r),o=we(we({action:Wt.l.CLICK},e.domInfo(t.target,t)),n);e.context.write(o)}};return document.addEventListener(t,r,!0),function(){return document.removeEventListener(t,r)}}},{key:"domInfo",value:function(t,e){try{return{componentid:t.dataset.cid||"",resourceid:t.dataset.rid||"",extra:we({},ye(t,e))}}catch(r){}return{}}},{key:"registerClick",value:function(){return this.registerEvent("click")}}])&&ke(e.prototype,r),n&&ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(B);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ie(n.key),n)}}function Le(t,e,r){return(e=Ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ie(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:String(e)}var Te=function(){function t(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,"count",1),Le(this,"instance",void 0),Le(this,"observeMap",void 0),Le(this,"Ratio",void 0),Le(this,"sendLmp",void 0),Le(this,"sendView",void 0),this.instance=this.buildObserver(),this.observeMap=t._observer_map,this.Ratio=(null===(r=e.options)||void 0===r?void 0:r.intersectionRatio)||.5,this.sendLmp=e.sendLmp.bind(e),this.sendView=e.sendView.bind(e)}var e,r,n;return e=t,(r=[{key:"buildObserver",value:function(){var e=this;return t._observer_instance?null:(IntersectionObserver&&(t._observer_instance=new IntersectionObserver(function(t){t.forEach(function(t){e.observeMap.get(t.target._observeId)&&e.exposureEvent(t)})},{threshold:[.01,.25,.5,.75,1]})),t._observer_instance)}},{key:"exposureAdd",value:function(t,e){var r=t;"mutation"===e&&(r=t.target);var n=r._observeId;if(n||this.observeMap.has(n)){if(!1===r.visible){var o=r.getBoundingClientRect(),i=o.top,a=o.left,c=o.right,u=o.bottom;i>=0&&u<=window.innerHeight&&a>=0&&c<=window.innerWidth&&(r.visible=!0,this.sendLmp(r))}}else r._observeId=this.count,r.visible=!1,this.observeMap.set(this.count,r),this.observe(r),this.count++}},{key:"exposureRemove",value:function(t){this.observeMap.has(t._observeId)&&(this.observeMap.delete(t._observeId),this.unobserve(t),this.sendView(t))}},{key:"exposureEvent",value:function(t){if(t.intersectionRatio>=this.Ratio&&t.isIntersecting){if("0"===t.target.style.opacity||"hidden"===t.target.style.visibility)return;if(!0===t.target.visible)return;t.target.visible=!0,this.sendLmp(t.target)}else t.target.visible=!1,this.sendView(t.target)}},{key:"observe",value:function(t){var e;null===(e=this.instance)||void 0===e||e.observe(t)}},{key:"unobserve",value:function(t){var e;null===(e=this.instance)||void 0===e||e.unobserve(t)}},{key:"disconnect",value:function(){var t;null===(t=this.instance)||void 0===t||t.disconnect()}}])&&Ce(e.prototype,r),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ne(t){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(t)}function Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Re(n.key),n)}}function De(t,e,r){return(e=Re(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Re(t){var e=function(t,e){if("object"!=Ne(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ne(e)?e:String(e)}Le(Te,"_observer_instance",null),Le(Te,"_observer_map",new Map);var Be=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,"_instance",void 0),De(this,"_intersection",void 0),this._instance=null,this._intersection=e,this._intersection&&this.init()}var e,r,n;return e=t,(r=[{key:"init",value:function(){var t=this;MutationObserver&&(this._instance=new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&t.attributeChangeObserve(e),"childList"===e.type&&t.modifyNodeObserve(e)})}),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1}))}},{key:"attributeChangeObserve",value:function(t){t.target.hasAttribute(E)?this.exposureAdd(t,"mutation"):this.exposureRemove(t)}},{key:"modifyNodeObserve",value:function(t){var e=this;Array.prototype.forEach.call(t.addedNodes,function(t){1===t.nodeType&&t.hasAttribute(E)&&e.exposureAdd(t,"intersect"),e.mapChild(t,e.exposureAdd.bind(e))}),Array.prototype.forEach.call(t.removedNodes,function(t){1===t.nodeType&&t.hasAttribute(E)&&e.exposureRemove(t),e.mapChild(t,e.exposureRemove.bind(e))})}},{key:"mapChild",value:function(t,e){var r=this;1===t.nodeType&&t.children.length&&Array.prototype.forEach.call(t.children,function(t){1===t.nodeType&&t.hasAttribute(E)&&e(t),r.mapChild(t,e)})}},{key:"exposureAdd",value:function(t,e){try{var r;null===(r=this._intersection)||void 0===r||r.exposureAdd(t,e)}catch(n){}}},{key:"exposureRemove",value:function(t){try{var e;null===(e=this._intersection)||void 0===e||e.exposureRemove(t)}catch(r){}}},{key:"disconnect",value:function(){var t;null===(t=this._instance)||void 0===t||t.disconnect()}}])&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(r),!0).forEach(function(e){Je(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qe(n.key),n)}}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}function Fe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=ze(t);if(e){var o=ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Me(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}(this,r)}}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function Je(t,e,r){return(e=Qe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qe(t){var e=function(t,e){if("object"!=Me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Me(e)?e:String(e)}function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ve(t){return function(t){if(Array.isArray(t))return Xe(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||$e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||$e(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(t,e){if(t){if("string"===typeof t)return Xe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xe(t,e):void 0}}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ze(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(r),!0).forEach(function(e){rr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nr(n.key),n)}}function rr(t,e,r){return(e=nr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nr(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==He(e)?e:String(e)}De(Be,"_exposure_observer",null);var or=[ve,re,ne,Ee,function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(i,t);var e,r,n,o=Fe(i);function i(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Je(Ke(n=o.call(this,t,e)),"_observer",void 0),Je(Ke(n),"_intersection",void 0),Je(Ke(n),"maxDuration",864e5),Je(Ke(n),"viewTime",void 0),Je(Ke(n),"registerView",function(){n._intersection&&n._observer&&Array.prototype.forEach.call(document.querySelectorAll("[".concat(E,"]")),function(t){n._intersection.exposureAdd(t,"intersect")});var t=n.beforeunload.bind(Ke(n));return window.addEventListener("pagehide",t),function(){var e,r;null===(e=n._observer)||void 0===e||e.disconnect(),null===(r=n._intersection)||void 0===r||r.disconnect(),window.removeEventListener("pagehide",t)}}),n._intersection=new Te(Ke(n)),n._observer=new Be(n._intersection),n.viewTime=(null===(r=n.options)||void 0===r?void 0:r.viewTime)||2e3,n}return e=i,r=[{key:"sendLmp",value:function(t){var e=be(t,x);if(e){var r,n=he(e);if(this.transView(t))return;var o=Ge(Ge({action:Wt.l.EXPOSE},this.domInfo(t)),n);this.context.write(o),null===(r=this._observer)||void 0===r||r.exposureRemove(t)}}},{key:"sendView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=be(t,x);if(r){var n=he(r);if(t.dataset.hasOwnProperty("tvt")&&t.dataset.hasOwnProperty(P)){var o=t.dataset[P],i=Date.now()-Number(o);if(i<this.viewTime)return;if(i>=this.maxDuration)return;var a=Ge(Ge(Ge({action:Wt.l.EXPOSE},this.domInfo(t)),n),{},{actionresult:Math.round(i/1e3)});this.context.write(a,e),delete t.dataset[P]}}}},{key:"domInfo",value:function(t){try{return{componentid:t.dataset.cid||"",resourceid:t.dataset.rid||"",extra:ye(t)}}catch(e){}return{}}},{key:"transView",value:function(t){return!!t.dataset.hasOwnProperty("tvt")&&(t.dataset[P]=Date.now().toString(),!0)}},{key:"beforeunload",value:function(){var t=this;Array.prototype.forEach.call(document.querySelectorAll("[".concat(_,"]")),function(e){t.sendView(e,!0)})}}],r&&We(e.prototype,r),n&&We(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(B)],ir=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rr(this,"options",void 0),rr(this,"logger",void 0),rr(this,"plugins",[]),rr(this,"event",void 0),rr(this,"basicLog",{}),rr(this,"pvLog",{}),rr(this,"_inited",!1),this.options=tr(tr({autoStart:!0},e),{},{options:tr({pv:!0,pl:!0,click:!1,view:!0,useBeacon:!0},e.options||{})});var r=this.options.project;if(!r)throw new Error("\u8bf7\u4f20\u5165\u9879\u76ee\u540d\u79f0");this.logger=new qt(r),this.event=Gt(),_t.O&&(this.mergePlugin(),this.init())}var e,r,n;return e=t,r=[{key:"start",value:function(){this.run("start"),this.event.emit("start"),this.logger.info("\u5f00\u59cb\u6570\u636e\u6536\u96c6")}},{key:"stop",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.run.apply(this,["stop"].concat(r)),(t=this.event).emit.apply(t,["stop"].concat(r)),this.logger.info("\u505c\u6b62\u6570\u636e\u6536\u96c6")}},{key:"common",get:function(){return this.basicLog}},{key:"setAutoPVCommon",value:function(t){(0,b.Gvm)(t)&&(this.pvLog=t)}},{key:"setCommon",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach(function(e){var r=Ye(e,2),n=r[0],o=r[1];t.defineBasecLog(n,o)})}},{key:"click",value:function(t){(0,h.A)(t)?t.forEach(function(t){t.action=Wt.l.CLICK}):t.action=Wt.l.CLICK,this.sendNow(t)}},{key:"expose",value:function(t){(0,h.A)(t)?t.forEach(function(t){t.action=Wt.l.EXPOSE}):t.action=Wt.l.EXPOSE,this.sendNow(t)}},{key:"send",value:function(t){this.write(t)}},{key:"sendNow",value:function(t){this.write(t,!0)}},{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._inited)throw new Error("\u521d\u59cb\u5316\u5f02\u5e38\u5931\u8d25,\u8bf7\u68c0\u67e5\u914d\u7f6e");for(var r=(0,h.A)(t)?t:[t],n=[],o=0;o<r.length;o++){var i=r[o],a=tr(tr({},this.common),i||{});this.run("check",a)?n.push(a):this.logger.error("\u6570\u636e\u672a\u9a8c\u8bc1\u901a\u8fc7,\u4e0d\u4e0a\u62a5: "+JSON.stringify(a))}n.length&&this.run("write",n,e)}},{key:"init",value:function(){this.plugins.map(function(t){var e;return null===t||void 0===t||null===(e=t.init)||void 0===e?void 0:e.call(t)}),this.mergeCommon(),this.logger.info("\u521b\u5efa\u4e0a\u62a5sdk\u5b8c\u6210"),this._inited=!0,this.options.autoStart&&this.start()}},{key:"mergeCommon",value:function(){var t=this,e={};this.plugins.forEach(function(r){var n,o=null===r||void 0===r||null===(n=r.common)||void 0===n?void 0:n.call(r,t.options);o&&Object.assign(e,o)});var r=tr(tr({},e),this.options.common||{});Object.entries(r).forEach(function(e){var r=Ye(e,2),n=r[0],o=r[1];t.defineBasecLog(n,o)})}},{key:"mergePlugin",value:function(){var t=this,e=this.options,r=e.plugins,n=void 0===r?[]:r,o=e.options,i=[].concat(or,Ve(n)),a=new Set;i.forEach(function(e){var r,n={};if((0,h.A)(e)?(r=e[0],n=e[1]||{}):r=e,!a.has(r)){a.add(r);var i=new r(t,tr(tr({},n),o));t.plugins.push(i)}}),a.clear()}},{key:"defineBasecLog",value:function(t,e){Object.defineProperty(this.basicLog,t,{get:(0,C.A)(e)?e:function(){return e},enumerable:!0,configurable:!0})}},{key:"run",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=0,i=this.plugins.length;o<i;o+=1){var a,c,u=this.plugins[o];if((0,C.A)(u[t])&&(null===(a=u[t])||void 0===a?void 0:(c=a).call.apply(c,[u].concat(r)))&&"check"===t)return!1}return!0}}],n=[{key:"getInstance",value:function(t){if(_t.O){if(!this.instance){this.instance=new this(t);var e=window;e.$tlog||(e.$tlog=this.instance)}return this.instance}}}],r&&er(e.prototype,r),n&&er(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function cr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(r),!0).forEach(function(e){lr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function lr(t,e,r){return(e=fr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fr(n.key),n)}}function fr(t){var e=function(t,e){if("object"!=ar(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ar(e)?e:String(e)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}function dr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=vr(t);if(e){var o=vr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ar(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vr(t)}rr(ir,"instance",void 0);var yr=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(i,t);var e,r,n,o=dr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"advClick",value:function(t){var e=(null===t||void 0===t?void 0:t.uuid)||(0,Et.Ak)();this.sendNow(ur(ur({},t),{},{action:Q,uuid:e}));var r=this.common;return{uuid:e,webid:r.webid,linkid:r.linkid,acode:r.acode,pageid:r.pageid,pagename:r.project||r.pagename}}},{key:"advExpose",value:function(t){var e=(null===t||void 0===t?void 0:t.uuid)||(0,Et.Ak)();this.sendNow(ur(ur({},t),{},{action:H,uuid:e}));var r=this.common;return{uuid:e,webid:r.webid,linkid:r.linkid,acode:r.acode,pageid:r.pageid,pagename:r.project||r.pagename}}},{key:"payTrack",value:function(t){(0,h.A)(t)?t.forEach(function(t){t.action=V}):t.action=V,this.send(t)}}])&&sr(e.prototype,r),n&&sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(ir);function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?br(Object(r),!0).forEach(function(e){gr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function gr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wr=function(t){var e=function(t){var e,r,n=null!==(e=null===(r=t.options)||void 0===r?void 0:r.client)&&void 0!==e?e:"paperCN",o=[pt],i={client:n};return n.endsWith("CN")||o.push(Pt),{plugins:o,extend:i}}(t),r=e.plugins,n=e.extend;return yr.getInstance({project:t.project,common:t.common||{},plugins:r,options:mr(mr({pv:!0,pl:!0,view:!0,click:!1},n),t.options||{})})};wr.eventType=Wt.l},1129:(t,e,r)=>{"use strict";r.d(e,{n:()=>k});var n=r(6540),o=r(8321),i=r(6049),a=r(1551),c=r(6942),u=r.n(c),l=r(8868),s=r(5071),f=r(7127),p=r(9848),d=r(4848);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){b(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w="me-mask",O={visible:!0,background:"0, 0, 0",opacity:.7,disableBodyScroll:!0,getContainer:null,stopPropagation:["click"]},k=function(t){var e,r=(0,l.v)(O,t),c=(0,n.useRef)(null);(0,i.G)(c,r.visible&&r.disableBodyScroll);var v=(0,n.useMemo)(function(){return"rgba(".concat(r.background,", ").concat(r.opacity,")")},[r.background,r.opacity]),y=m((0,n.useState)(r.visible),2),b=y[0],g=y[1],k=(0,a.A)(),S=(0,o.useSpring)(h({opacity:r.visible?1:0,config:{precision:.01,mass:1,tension:200,friction:30,clamp:!0},onStart:function(){g(!0)},onRest:function(){var t,e;k.current||(g(r.visible),r.visible?null===(t=r.afterShow)||void 0===t||t.call(r):null===(e=r.afterClose)||void 0===e||e.call(r))}},(null===(e=r.spring)||void 0===e?void 0:e.call(r,r.visible))||{})).opacity,j=(0,p.r)(r.stopPropagation,(0,s.q)(r,(0,d.jsxs)(o.animated.div,{className:w,ref:c,style:h(h({background:v,opacity:S},r.style),{},{display:b?"unset":"none"}),onClick:function(t){var e;t.target===t.currentTarget&&(null===(e=r.onMaskClick)||void 0===e||e.call(r,t))},children:[r.onMaskClick&&(0,d.jsx)("div",{className:"".concat(w,"-click-mask"),onClick:r.onMaskClick}),(0,d.jsx)("div",{className:u()("".concat(w,"-content"),r.contentClassName),children:b&&r.children})]})));return(0,f.r)(r.getContainer,j)}},1482:(t,e,r)=>{"use strict";r.d(e,{A:()=>p});var n=r(6540);if(722!=r.j)var o=r(7468);if(722!=r.j)var i=r(3037);var a=r(4848);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const p=722!=r.j?function(t){var e,r=s((0,n.useState)(!1),2),c=r[0],f=r[1];(0,n.useEffect)(function(){o.O&&t.name&&t.url&&!c&&(window.React||(window.React=n),(0,i.C)(t.url,{},!0).then(function(e){var r;"ready"===e&&f((r=t.name,o.O&&!!window[r]))}).catch(function(){}))},[c,t.url,t.name]),(0,n.useEffect)(function(){f(!1)},[t.url,t.name]),(0,n.useEffect)(function(){c&&t.onLoad&&t.onLoad()},[c]);var p=(null===(e=window[t.name])||void 0===e?void 0:e.default)||window[t.name];return c&&p?(0,a.jsx)(p,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t.props||{})):t.loadCom||null}:null},2040:(t,e,r)=>{"use strict";r.d(e,{w:()=>y});var n=r(6540),o=r(6942),i=r.n(o),a=r(1129),c=r(8868),u=r(4848);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){p(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d="me-toast",v={maskClickable:!0,position:"center"},y=function(t){var e=(0,c.v)(v,t),r=e.maskClickable,o=e.content,l=e.position,s=(0,n.useMemo)(function(){switch(l){case"top":return"20%";case"bottom":return"80%";case"center":return"50%";default:return"number"===typeof l?"".concat(l,"%"):l}},[l]);return(0,u.jsx)(a.n,{visible:e.visible,opacity:0,disableBodyScroll:!r,getContainer:e.getContainer,afterClose:e.afterClose,style:f({pointerEvents:r?"none":"auto"},e.maskStyle),className:"".concat(d,"-mask"),children:(0,u.jsx)("div",{className:i()(e.wrapClass,"".concat(d,"-wrap")),children:(0,u.jsx)("div",{style:{top:s},className:"".concat(d,"-main"),children:(0,u.jsx)("div",{className:"".concat(d,"-main-center"),children:o})})})})}},2087:(t,e,r)=>{r(5127)},2329:(t,e,r)=>{"use strict";if(r.d(e,{e:()=>i}),722!=r.j)var n=r(7468);if(722!=r.j)var o=r(9610);function i(t,e){if(n.O)return t?(0,o.A)(t)?t():"current"in t?t.current:t:e}},2743:(t,e,r)=>{"use strict";r.d(e,{a:()=>b});var n=r(7816),o=r(6540),i=r(5014),a=r(4848);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var u=["content","children","defaultAction"];function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){f(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y=function(t){var e,r=d((0,o.useState)(t.defaultAction||""),2),n=r[0],i=r[1];return e="function"===typeof t.content?t.content({action:n,setAction:i,onClose:function(e){t.onClose(e||n)}}):t.content,(0,a.jsx)("div",{onClick:function(e){try{var r=e.target,o=r.dataset.action;o&&i(o),r.dataset.resolve&&(o?t.onClose(o):t.onClose(n))}catch(a){}},children:e})};var h=r(9014),b=(0,n.b)(h.a,{show:i.W,clear:function(){i.h.forEach(function(t){t()})},action:function(t){return new Promise(function(e){var r,n=t.content,o=t.children,c=t.defaultAction,l=p(t,u);r=(0,i.W)(s(s({},l),{},{onClose:function(){var t;null===(t=l.onClose)||void 0===t||t.call(l),e(),r=null},content:(0,a.jsx)(y,{defaultAction:c,content:n||o,onClose:function(t){var n;e(t),null===(n=r)||void 0===n||n.close()}})}))})}})},3037:(t,e,r)=>{"use strict";r.d(e,{C:()=>o});var n=r(7468),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!n.O)return Promise.resolve();var o=t.replace(/[|#].*$/,"");return/(^css!|\.css$)/.test(o)?function(t,e,r){return new Promise(function(n,o){var i=document.querySelector('link[href="'.concat(t,'"][data-status]'));if(i){if("ready"===i.getAttribute("data-status"))return void n("ready");i.addEventListener("load",function(){n("ready")}),i.addEventListener("error",function(){n("error")})}else{var a=document.createElement("link");a.rel="stylesheet",a.href=t,Object.keys(e).forEach(function(t){a[t]=e[t]}),"hideFocus"in a&&a.relList&&(a.rel="preload",a.as="style"),a.setAttribute("data-status","loading"),document.head.appendChild(a),a.addEventListener("load",function(){a.setAttribute("data-status","ready"),n("ready"),r&&document.head.removeChild(a)}),a.addEventListener("error",function(){a.setAttribute("data-status","error"),o("error"),r&&document.head.removeChild(a)})}})}(t,e||{},r):function(t,e,r){return new Promise(function(n,o){var i=document.querySelector('script[src="'.concat(t,'"][data-status]'));if(i){if("ready"===i.getAttribute("data-status"))return void n("ready");i.addEventListener("load",function(){n("ready")}),i.addEventListener("error",function(){n("error")})}else{var a=document.createElement("script");a.src=t,Object.keys(e).forEach(function(t){a[t]=e[t]}),a.setAttribute("data-status","loading"),document.body.appendChild(a),a.addEventListener("load",function(){a.setAttribute("data-status","ready"),n("ready"),r&&document.body.removeChild(a)}),a.addEventListener("error",function(){a.setAttribute("data-status","error"),o("error"),r&&document.body.removeChild(a)})}})}(t,e||{},r)}},3059:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(6540);if(722!=r.j)var o=r(5071);var i=r(4848),a=722!=r.j?(0,n.memo)(function(t){return(0,o.q)(t,(0,i.jsx)("svg",{viewBox:"0 0 1024 1024",children:(0,i.jsx)("path",{d:"M507.168 473.232L716.48 263.936a16 16 0 0 1 22.624 0l11.312 11.312a16 16 0 0 1 0 22.624L541.12 507.168 750.4 716.48a16 16 0 0 1 0 22.624l-11.312 11.312a16 16 0 0 1-22.624 0L507.168 541.12 297.872 750.4a16 16 0 0 1-22.624 0l-11.312-11.312a16 16 0 0 1 0-22.624l209.296-209.312-209.296-209.296a16 16 0 0 1 0-22.624l11.312-11.312a16 16 0 0 1 22.624 0l209.296 209.296z",fill:"currentColor"})}))}):null;const c=722!=r.j?a:null},3342:(t,e,r)=>{"use strict";r.d(e,{l:()=>n});var n=function(t){return t.PV="pageview",t.PL="pageleave",t.CLICK="click",t.EXPOSE="expose",t}({})},3886:(t,e,r)=>{"use strict";r.d(e,{u$:()=>n,wb:()=>o,xs:()=>i});var n="momoNid",o="momoToken",i="momoVisitor"},4490:(t,e,r)=>{"use strict";r.d(e,{Ii:()=>p,Ob:()=>l,Qk:()=>u,X2:()=>f,w8:()=>s});var n=r(7468),o=r(3886),i=r(8987),a=r(8759),c=r(9712),u=function(){var t=0;return function(){return t+=1}}(),l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})+"-"+c.kB.formatDate(new Date,"YYMMDDhhmmssS").formatTime},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.u$,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.O){var c=r||{},u=c.loginScope,l=c.enableCookie,s=void 0===l||l,f=c.enableLocalStorage,p=void 0===f||f,d=u?"".concat(u,"_").concat(e):e;p&&(window.localStorage[d]=t),s&&i.A.set(d,t,{expires:365,domain:(0,a.R)()})}},f=function(){var t="";try{return(t=window.localStorage[o.xs]||i.A.get(o.xs))||(t=l(),window.localStorage[o.xs]=t,i.A.set(o.xs,t,{expires:365,domain:(0,a.R)()})),t}catch(e){return""}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.u$,e=arguments.length>1?arguments[1]:void 0;if(!n.O)return"";var r=e||{},a=r.enableCookie,c=void 0===a||a,u=r.enableLocalStorage,l=void 0===u||u,s=r.loginScope,p=s?"".concat(s,"_").concat(t):t;try{var d=l?window.localStorage[p]:"";return!d&&c&&(d=i.A.get(p)),d||(d=f()),d}catch(v){return""}}},4548:(t,e,r)=>{"use strict";r.d(e,{X:()=>f});var n=r(6540),o=r(6942),i=r.n(o),a=r(6459);if(722!=r.j)var c=r(8868);if(722!=r.j)var u=r(5071);var l=r(4848),s={size:128,bgColor:"#ffffff",fgColor:"#000000",level:"L",imageSettings:{height:24,width:24,excavate:!1}},f=722!=r.j?(0,n.forwardRef)(function(t,e){var r=(0,c.v)(s,t),o=(0,n.useRef)(null),f=(0,c.v)(s.imageSettings,t.imageSettings);return(0,n.useImperativeHandle)(e,function(){return{get canvas(){var t,e;return null===(t=o.current)||void 0===t||null===(e=t.querySelector)||void 0===e?void 0:e.call(t,"canvas")}}}),(0,u.q)(r,(0,l.jsx)("div",{className:i()("me-qr-code-canvas"),ref:o,children:(0,l.jsx)(a.Xe,{value:r.value,size:r.size,bgColor:r.bgColor,fgColor:r.fgColor,level:r.level,imageSettings:f})}))}):null},4651:(t,e,r)=>{"use strict";r.d(e,{os:()=>c});var n=r(7468),o={wechat:/micromessenger\/([\d\.]+)/i,alipay:/alipay/i,qq:/qq\/([\d\.]+)/i,weibo:/\bweibo\b/i,tiktok:/aweme/i,baidu:/ (baiduboxapp|biduboxapp)\//i,douban:/com\.douban\.frodo\/([\d\.]+)/i,xiaomi:/miuibrowser/i,uc:/ucbrowser/i,quark:/quark/i,ie:/(msie\s([\d.]+)|(trident\/\d\.\d))/i,chrome:/(crios|chrome)\/([\d\.]+)/i,safari:/safari\/([\d\.]+)/i,edge:/edge\/([\d\.]+)/i,firefox:/firefox\/([\d\.]+)/i,opera:/(?:opera|opr).([\d\.]+)/i},i=function(){var t,e;return n.O&&null!==(t=null===(e=navigator)||void 0===e?void 0:e.userAgent.toLocaleLowerCase())&&void 0!==t?t:""},a=function(){return!!n.O&&(("MacIntel"===navigator.platform||"iPad"===navigator.platform)&&navigator.maxTouchPoints>1||null!=navigator.userAgent.match(/iPad/i))},c={isPC:function(){return!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()).match(/android|iphone|ipad|pod/i)&&!a()},isMobile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/iphone|ipad|ipod|ios|android|mobile/i.test(t)||a()},isIpad:a,isIOS:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/iphone|ipad|ipod|ios/i.test(t)},isAndroid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/android/i.test(t)},isInWebview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/Client|DeutolsWebSDK|UnrealEngine|PlayStation/i.test(t)},getBrwoserType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();for(var e in o)if(t.match(o[e]))return e;return"unknown"},getOS:function(){var t=i(),e="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";return/mac/i.test(e)?"mac":/win/i.test(e)?"windows":/linux/i.test(e)?"linux":/iphone/i.test(t)||/ipad/i.test(t)||/ipod/i.test(t)?"ios":/android/i.test(t)?"android":void 0},getUA:i}},4686:(t,e,r)=>{"use strict";r.d(e,{Q2:()=>n,R8:()=>o,pT:()=>i});var n={paperCN:{clientid:"1003",clientkey:"jshR3bIqYUSF"},evolCN:{clientid:"1001",clientkey:"SdFkSE6Fn1jh"},evolTW:{clientid:"1011",clientkey:"LvlyQdM5CW17"},evolJP:{clientid:"1017",clientkey:"S4lsV05HXwYo"},nikki3TW:{clientid:"1110",clientkey:"gtzIgNGsHAQG"},nikki4CN:{clientid:"1008",clientkey:"z1q6jx0HB4gL"},nikki4TW:{clientid:"1019",clientkey:"gsWMUiHZ5H5j"},nikki4JP:{clientid:"1035",clientkey:"SJhgPOEPMWlS"},nikki4NA:{clientid:"1037",clientkey:"G9w0BAQEF1AO"},nikki4VN:{clientid:"1095",clientkey:"ldG5hbXNhZnM"},deepspaceDevCN:{clientid:"1033",clientkey:"OkfxlMqeMcLT"},deepspaceCN:{clientid:"1068",clientkey:"JWTY912Pdrmd"},deepspaceOther:{clientid:"1067",clientkey:"By3VKUEttNjK"},infold:{clientid:"1083",clientkey:"Fmoto09f9Skv"},deepspaceEN:{clientid:"1070",clientkey:"By3VKUEttNjK"},deepspaceJP:{clientid:"1071",clientkey:"By3VKUEttNjK"},deepspaceKR:{clientid:"1072",clientkey:"By3VKUEttNjK"},deepspaceTW:{clientid:"1073",clientkey:"By3VKUEttNjK"},pjwCN:{clientid:"1108",clientkey:"MxZXdydlcnF3"},pjwOther:{clientid:"1122",clientkey:"bowIDAPEF5QL"},nikki5DevCN:{clientid:"1081",clientkey:"n45dLQD9nMYj"},nikki5CN:{clientid:"1106",clientkey:"n45dLQD9nMYj"},nikki5PayCN:{clientid:"1087",clientkey:"Hf1la9rolU7T"},nikki5Other:{clientid:"1116",clientkey:"PKkcZRGDD6Ri"},nikki5PayOther:{clientid:"1136",clientkey:"PKkcZRGDD6Ri"},nikki5Cbt3Oversea:{clientid:"1126",clientkey:"PKkcZRGDD6Ri"},paperMemberCN:{clientid:"1140",clientkey:"9JGnvbm4Yc3a"}},o={};Object.values(n).forEach(function(t){var e=t.clientid,r=t.clientkey;o[e]=r});var i=["1067","1070","1071","1072","1073","1083","1116","1122","1136","1126"]},4736:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{Gvm:()=>o,Ime:()=>i});var o=function(t){return null!==t&&"object"===n(t)&&!Array.isArray(t)},i=function(t){return!t&&0!==t&&!1!==t||("[object Array]"===Object.prototype.toString.call(t)&&0===t.length||"[object Object]"===Object.prototype.toString.call(t)&&0===Object.keys(t).length)}},5014:(t,e,r)=>{"use strict";if(r.d(e,{W:()=>f,h:()=>s}),722!=r.j)var n=r(6561);if(722!=r.j)var o=r(9014);var i=r(4848);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=new Set;function f(t){var e=(0,n.s)((0,i.jsx)(o.a,u(u({},t),{},{afterClose:function(){var r;s.delete(e.close),null===(r=t.afterClose)||void 0===r||r.call(t)}})));return s.add(e.close),e}},5071:(t,e,r)=>{"use strict";r.d(e,{q:()=>s});var n=r(6540),o=r(6942),i=r.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){var r=u({},e.props);for(var o in t.className&&(r.className=i()(e.props.className,t.className)),t.style&&(r.style=u(u({},r.style),t.style)),void 0!==t.tabIndex&&(r.tabIndex=t.tabIndex),t)t.hasOwnProperty(o)&&(o.startsWith("data-")||o.startsWith("aria-"))&&(r[o]=t[o]);return n.cloneElement(e,r)}},5247:(t,e,r)=>{"use strict";r.d(e,{Ak:()=>n});let n=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_","")},5280:(t,e,r)=>{"use strict";r.d(e,{Q:()=>C});var n=r(5766),o=r(4490),i=r(4736),a=r(1396),c=r(6573),u=r(8721),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cn",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,u.I)();return"prod"!==e?c.gf[e]:c.gf[t]},s=r(5402),f=r(6266),p={200:"\u6d3b\u52a8\u672a\u5f00\u542f",201:"\u6d3b\u52a8\u5df2\u7ed3\u675f",202:"\u6d3b\u52a8\u5df2\u5173\u95ed",300:"\u7528\u6237\u672a\u767b\u5f55",301:"\u7528\u6237\u8bbf\u95ee\u9891\u7387\u53d7\u9650",302:"\u7528\u6237\u8bbf\u95ee\u9891\u7387\u53d7\u9650",400:"\u5df2\u9886\u53d6\u5956\u52b1",401:"\u8d44\u683c\u5df2\u7ecf\u7528\u5c3d",600:"\u4e0d\u6ee1\u8db3\u53c2\u52a0\u6761\u4ef6",700:"\u6267\u884c\u8d85\u65f6"};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(){v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",h="executing",b="completed",m={};function g(){}function w(){}function O(){}var k={};l(k,a,function(){return this});var S=Object.getPrototypeOf,j=S&&S(S(N([])));j&&j!==r&&n.call(j,a)&&(k=j);var x=O.prototype=g.prototype=Object.create(k);function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==d(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?b:y,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},P(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},P(x),l(x,u,"Generator"),l(x,a,function(){return this}),l(x,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function y(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}var h=f.A.create(),b=function(){var t,e=(t=v().mark(function t(e,r,o){var i,a,c,u;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={app_id:o.appId,timestamp:~~((new Date).valueOf()/1e3),sign_type:"hmac",clientid:o.clientid,number:e.lot_number,captcha:e.captcha_output,token:e.pass_token,time:e.gen_time,nonce:r.split("=")[1]},a=(0,n.o0)(i,o.appKey),Object.assign(i,{sign:a}),t.next=6,h.post(r,i,{headers:{"content-type":"application/x-www-form-urlencoded"}});case 6:if(c=t.sent,0!==(null===(u=c.data)||void 0===u?void 0:u.code)){t.next=10;break}return t.abrupt("return",!0);case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}},t,null,[[0,12]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){y(i,n,o,a,c,"next",t)}function c(t){y(i,n,o,a,c,"throw",t)}a(void 0)})});return function(t,r,n){return e.apply(this,arguments)}}(),m=["region","env","commonData","secretKey","riskControl","aesKey","appId","appKey","clientid","onBefore","onSuccess","onError"];function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(){w=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function O(){}var k={};l(k,a,function(){return this});var S=Object.getPrototypeOf,j=S&&S(S(N([])));j&&j!==r&&n.call(j,a)&&(k=j);var x=O.prototype=b.prototype=Object.create(k);function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==g(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(g(e)+" is not iterable")}return m.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:m,configurable:!0}),m.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},P(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},P(x),l(x,u,"Generator"),l(x,a,function(){return this}),l(x,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function O(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function k(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){O(i,n,o,a,c,"next",t)}function c(t){O(i,n,o,a,c,"throw",t)}a(void 0)})}}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){E(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function x(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function E(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:String(e)}var C=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"tdsTimestamp",0),E(this,"commonParameData",{}),E(this,"tdsInstance",void 0),E(this,"secretKey",void 0),E(this,"riskControl",void 0),E(this,"deviceId",void 0),E(this,"validateUrl",""),E(this,"deviceIdPromiseQueue",[]),E(this,"securePromiseQueue",[]);var o=e.region,i=void 0===o?"cn":o,a=e.env,c=e.commonData,u=e.secretKey,d=e.riskControl,v=void 0!==d&&d,y=e.aesKey,h=void 0===y?"NTnWuC5F20iOz7SI":y,g=e.appId,O=void 0===g?"1010005":g,S=e.appKey,P=void 0===S?"iU1GIb9pcNaC0uJq":S,_=e.clientid,C=void 0===_?"1003":_,L=e.onBefore,I=e.onSuccess,T=e.onError,N=x(e,m);this.secretKey=u,this.riskControl=v,this.updateCommonData(c),this.tdsInstance=f.A.create(j({baseURL:"".concat(l(i,a),"/v2/engine"),headers:{"content-type":"application/json"},method:"POST",timeout:15e3},N)),this.tdsInstance.interceptors.request.use(function(t){if(v){var e={};t.data&&Object.assign(e,t.data),e.device=(0,n.ff)(JSON.stringify(r.deviceId),h),t.data=e}return null===L||void 0===L||L(t),t}),this.tdsInstance.interceptors.response.use(function(t){var e=t.data;r.tdsTimestamp=e.timestamp;var n=e.ret;if(0===n)return null===I||void 0===I||I(e.data),e.data;if(v&&303===n&&null!==e&&void 0!==e&&e.data)return e;var o,i,a=null!==(o=null!==(i=p[n])&&void 0!==i?i:e.msg)&&void 0!==o?o:"\u76ee\u524d\u8bbf\u95ee\u4eba\u6570\u8fc7\u591a\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",c=j(j({},e),{},{msg:a});return null===T||void 0===T||T(c),Promise.reject(c)},function(t){var e,r={ret:-1,timestamp:Date.now(),msg:null!==(e=null===t||void 0===t?void 0:t.message)&&void 0!==e?e:t};return null===T||void 0===T||T(r),Promise.reject(r)}),s.l.addSuccessCallback(function(){var t=k(w().mark(function t(e){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.validateUrl){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,b(e,r.validateUrl,{clientid:C,appId:O,appKey:P});case 4:t.sent?(r.validateUrl="",r.securePromiseQueue.forEach(function(t){t(!0)}),r.securePromiseQueue=[]):s.l.show();case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}var e,r,c;return e=t,r=[{key:"submitForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new FormData;return Object.keys(t).forEach(function(r){e.append(r,t[r])}),this.tdsInstance({data:e,headers:{"content-type":"application/x-www-form-urlencoded"}})}},{key:"sendRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"uid"in(t=j(j({},this.commonParameData),t))&&!t.uid&&(t.uid=(0,o.Ii)());var r={data:t};return e&&(r=j(j({},e),r)),this.tdsInstance(r)}},{key:"request",value:function(){var t=k(w().mark(function t(){var e,r,n,o,c,u,l,f,p,d,v,y=this,h=arguments;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>0&&void 0!==h[0]?h[0]:{},o=h.length>1?h[1]:void 0,!this.riskControl||null!==(e=this.deviceId)&&void 0!==e&&e.fid){t.next=5;break}return t.next=5,new Promise(function(t){y.deviceIdPromiseQueue.push(t)});case 5:if(null!==o&&void 0!==o&&o.signParams&&this.secretKey&&(c=(null===n||void 0===n?void 0:n.act_id)||this.commonParameData.act_id||"",u=(null===n||void 0===n?void 0:n.nid)||this.commonParameData.nid||"",l=(null===n||void 0===n?void 0:n.flow_id)||"",f=(null===n||void 0===n?void 0:n.timestamp)||Date.now(),p="".concat(c,"_").concat(l,"_").concat(u,"_").concat(f,"_").concat(this.secretKey||""),(0,i.Ime)(o.signParams)||(p+="_".concat(o.signParams.map(function(t){var e;return null!==(e=null===n||void 0===n?void 0:n[t])&&void 0!==e?e:""}).join("_"))),p=(0,a.MD5)(p).toString(),n.sig=p),!this.validateUrl){t.next=9;break}return t.next=9,new Promise(function(t){y.securePromiseQueue.push(t)});case 9:return t.next=11,this.sendRequest(n,o);case 11:if(!("ret"in(d=t.sent))||303!==d.ret||null===(r=d.data)||void 0===r||!r.api_uri){t.next=17;break}return this.validateUrl||(this.validateUrl=null===(v=d.data)||void 0===v?void 0:v.api_uri,s.l.show()),t.next=16,new Promise(function(t){y.securePromiseQueue.push(t)});case 16:return t.abrupt("return",this.sendRequest(n,o));case 17:return t.abrupt("return",d);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateCommonData",value:function(t){var e="object"===g(t)&&!(0,i.Ime)(t);this.commonParameData=e?j({},t):{}}},{key:"updateDeviceId",value:function(t){return this.deviceId=Object.assign({},this.deviceId||{},t),!(!this.deviceId.fid||!this.deviceId.captcha)&&(this.deviceIdPromiseQueue.forEach(function(t){t(!0)}),this.deviceIdPromiseQueue=[],!0)}},{key:"time",get:function(){return this.tdsTimestamp||Date.now()}}],r&&P(e.prototype,r),c&&P(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},5402:(t,e,r)=>{"use strict";r.d(e,{l:()=>v});var n=r(7468),o=r(3037);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",y="suspendedYield",h="executing",b="completed",m={};function g(){}function w(){}function O(){}var k={};f(k,u,function(){return this});var S=Object.getPrototypeOf,j=S&&S(S(N([])));j&&j!==r&&n.call(j,u)&&(k=j);var x=O.prototype=g.prototype=Object.create(k);function P(t){["next","throw","return"].forEach(function(e){f(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function r(o,a,c,u){var l=d(t[o],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,c,u)},function(t){r("throw",t,c,u)}):e.resolve(f).then(function(t){s.value=t,c(s)},function(t){return r("throw",t,c,u)})}u(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function _(e,r,n){var o=v;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=d(e,r,n);if("normal"===l.type){if(o=n.done?b:y,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=f(O,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},P(E.prototype),f(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},P(x),f(x,s,"Generator"),f(x,u,function(){return this}),f(x,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}var f=[],p=[],d=[],v={init:function(){var t,e=(t=a().mark(function t(e){var r,i,c,l,s,v;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.captchaId,i=e.language,c=e.hideBar,l=e.userInfo,s=e.region,v=void 0===s?"cn":s,n.O){t.next=3;break}throw new Error("\u8bf7\u52ff\u5728\u975e\u6d4f\u89c8\u5668\u73af\u5883\u521d\u59cb\u5316\u6781\u9a8c\u9a8c\u8bc1\u7801");case 3:if(!window.captchaInstance){t.next=5;break}return t.abrupt("return",window.captchaInstance);case 5:return t.prev=5,t.next=8,(0,o.C)("https://static.geetest.com/v4/gt4.js");case 8:if("ready"!==t.sent){t.next=13;break}return t.next=12,new Promise(function(t){window.initGeetest4(u({captchaId:r,language:i,product:"bind",hideBar:c,mask:{outside:!1},userInfo:l},"oversea"===v&&{apiServers:["gcaptcha4.captchami.com","gcaptcha4.geetest.com"],staticServers:["static.captchami.com","static.geetest.com"]}),function(e){var r=document.createElement("div");r.id="captchaBox",document.body.appendChild(r),e.appendTo(r),window.captchaInstance=e,e.onSuccess(function(){var t=e.getValidate();f.forEach(function(e){return e(t)})}),e.onError(function(t){p.forEach(function(e){return e(t)})}),e.onClose(function(){d.forEach(function(t){return t()})}),t(e)})});case 12:return t.abrupt("return",t.sent);case 13:t.next=17;break;case 15:t.prev=15,t.t0=t.catch(5);case 17:case"end":return t.stop()}},t,null,[[5,15]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),addSuccessCallback:function(t){f.push(t)},removeSuccessCallback:function(t){var e=f.indexOf(t);e>-1&&f.splice(e,1)},clearSuccessCallbacks:function(){f.length=0},clearErrorCallbacks:function(){p.length=0},clearCloseCallbacks:function(){d.length=0},addErrorCallback:function(t){f.indexOf(t)<0&&p.push(t)},removeErrorCallback:function(t){var e=f.indexOf(t);e>-1&&p.splice(e,1)},addCloseCallback:function(t){d.push(t)},removeCloseCallback:function(t){var e=f.indexOf(t);e>-1&&d.splice(e,1)},show:function(t){var e,r;if(n.O){var o=t||{},i=o.successCb,a=o.errorCb;if(null===(e=window)||void 0===e||!e.captchaInstance)throw null===a||void 0===a||a(),new Error("\u6781\u9a8c\u9a8c\u8bc1\u7801\u5c1a\u672a\u521d\u59cb\u5316");null===i||void 0===i||i(),null===(r=window)||void 0===r||r.captchaInstance.showCaptcha()}}}},5766:(t,e,r)=>{"use strict";r.d(e,{F6:()=>a,ff:()=>i,o0:()=>c});var n=r(1396),o=r(4736),i=function(t,e){var r=n.enc.Utf8.parse(e),o=n.enc.Utf8.parse(e.substring(0,16)),i=n.AES.encrypt(t,r,{iv:o,mode:n.mode.CBC,padding:n.pad.Pkcs7}).ciphertext.toString();return n.enc.Base64.stringify(n.enc.Hex.parse(i))},a=function(t,e){var r=n.enc.Utf8.parse(e),o=n.enc.Utf8.parse(e.substring(0,16));return n.AES.decrypt(t,r,{iv:o,mode:n.mode.CBC,padding:n.pad.Pkcs7}).toString(n.enc.Utf8)},c=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="";return Object.keys(t).filter(function(e){return!r.includes(e)&&!(0,o.Ime)(t[e])}).sort().forEach(function(e,r){var n,o=encodeURIComponent(t[e]);o=null===(n=o)||void 0===n?void 0:n.replace(/\*/g,"%2A"),i+="".concat(0===r?"":"&").concat(e,"=").concat(o||"")}),(0,n.HmacMD5)(i,e).toString()}},5960:(t,e,r)=>{"use strict";r.d(e,{y:()=>O});var n=r(7816),o=r(6540),i=r(5338),a=r(2329),c=r(8868),u=r(2040),l=r(4848);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach(function(e){d(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=[];function b(t){var e=t.root,r=t.container;null===e||void 0===e||e.unmount(),null!==r&&void 0!==r&&r.parentNode&&r.parentNode.removeChild(r)}var m={duration:2e3,position:"center",maskClickable:!0};function g(){for(;;){var t=h.pop();if(!t)break;b(t)}}function w(t){var e=(0,c.v)(m,"string"===typeof t?{content:t}:t),r=0,n=e.getContainer,s=void 0===n?function(){return document.body}:n,f=document.createElement("div");(0,a.e)(s).appendChild(f);var d=(0,i.H)(f);g(),h.push({root:d,container:f});var y=(0,o.createRef)(),w=new Promise(function(t){var n=(0,o.forwardRef)(function(n,i){var a=v((0,o.useState)(!0),2),c=a[0],s=a[1];return(0,o.useEffect)(function(){return function(){var r;null===(r=e.afterClose)||void 0===r||r.call(e),t()}},[]),(0,o.useEffect)(function(){if(0!==e.duration)return r=window.setTimeout(function(){s(!1)},e.duration),function(){window.clearTimeout(r)}},[]),(0,o.useImperativeHandle)(i,function(){return{close:function(){return s(!1)}}}),(0,l.jsx)(u.w,p(p({},e),{},{getContainer:function(){return f},visible:c,afterClose:function(){b({root:d,container:f})}}))});d.render((0,l.jsx)(n,{ref:y}))});return w.close=function(){var t,e;null===(t=y.current)||void 0===t||null===(e=t.close)||void 0===e||e.call(t)},w}var O=(0,n.b)(w,{show:w,clear:g,config:function(t){void 0!==t.duration&&(m.duration=t.duration),void 0!==t.position&&(m.position=t.position),void 0!==t.maskClickable&&(m.maskClickable=t.maskClickable)}})},6049:(t,e,r)=>{"use strict";r.d(e,{G:()=>f});var n=r(6540);if(722!=r.j)var o=r(7468);if(722!=r.j)var i=r(6324);var a=722!=r.j?o.O?window:void 0:null,c=722!=r.j?["scroll","auto","overlay"]:null;function u(t){return 1===t.nodeType}var l=0,s="me-body-overflow-hidden";function f(t,e){var r=(0,i.P)(),o=function(e){r.move(e);var n=r.deltaY.current>0?"10":"01",o=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=t;r&&r!==e&&u(r);){if(r===document.body)return e;var n=window.getComputedStyle(r).overflowY;if(c.includes(n))return r;r=r.parentNode}return e}(e.target,t.current);if(o){var i=o.scrollHeight,l=o.offsetHeight,s=o.scrollTop,f="11";0===s?f=l>=i?"00":"01":s+l>=i&&(f="10"),"11"===f||!r.isVertical()||parseInt(f,2)&parseInt(n,2)||e.cancelable&&e.preventDefault()}};(0,n.useEffect)(function(){if(e)return document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",o,{passive:!1}),l||document.body.classList.add(s),l++,function(){l&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",o),--l||document.body.classList.remove(s))}},[e])}},6051:(t,e,r)=>{"use strict";r.d(e,{A:()=>Mn});var n=r(4490),o=r(7468),i=r(3886),a=r(8987),c=r(8759),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.wb,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.O){var n=r||{},u=n.loginScope,l=n.enableCookie,s=void 0===l||l,f=n.enableLocalStorage,p=void 0===f||f,d=u?"".concat(u,"_").concat(e):e;s&&a.A.set(d,t,{expires:7,domain:(0,c.R)()}),p&&(window.localStorage[d]=JSON.stringify({token:t,time:Date.now()}))}},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.wb,e=(arguments.length>1?arguments[1]:void 0)||{},r=e.enableCookie,n=void 0===r||r,o=e.enableLocalStorage,c=void 0===o||o,u=e.loginScope,l=u?"".concat(u,"_").concat(t):t;if(c){var s=window.localStorage[l];if(s)try{var f=JSON.parse(s),p=f.token,d=f.time;if(Date.now()-d<6048e5)return p}catch(y){}}if(n){var v=a.A.get(l);if(v)return v}return""},s=r(9592),f=r(4686),p=r(8721);const d=new Set(["onNavBarClick","onKeyboardWillShow","onKeyboardWillHide","onKeyboardHeightChange","onNetworkStatusChange","onPageBack","gameActivity","onOrientationChange"]),v=new Set(["psLogOut","psWebBack","psWebClose","psAppExtra"]);var y=r(4486),h=["zh-cn","zh-tw","en","jp","ko","vn","fr-fr","de-de","th-th","es-la","pt-br","it-it","id-id"];const b={deutolswebsdk:"papersdk",pspcsdk:"pspcsdk"};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var g=function(){if("undefined"===typeof window)return"";var t=window;if("object"===m(t)){var e="";return t.navigator&&t.navigator.userAgent&&(e=t.navigator.userAgent),e.toLocaleLowerCase()}return""},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g(),e="unknown";if(t)try{var r;if(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g()).indexOf("pspcsdk")>0}(t))e="pspcsdk";else e=null===(r=t.split(" ").pop())||void 0===r?void 0:r.split("/")[0]}catch(n){}return e},O=function(){var t=w();return b[t]}(),k=function(){return!!O};function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function j(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}var P=function(){var t={deviceid:"",vopenid:"",vroleid:""};return function(e,r,n){window.$tlog&&(t.vopenid!==e&&e&&(t.vopenid=e),t.deviceid!==r&&r&&(t.deviceid=r),t.vroleid!==n&&n&&(t.vroleid=n),(t.vopenid||t.deviceid||t.vroleid)&&window.$tlog.setCommon(t))}}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function C(t,e,r){return(e=L(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:String(e)}var I=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t[e]||(t[e]=r),t[e]},T=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,"win",window),C(this,"_handleId",+Date.now()+Number("".concat(Math.random()).slice(2,8))),C(this,"_timeout",1e4),C(this,"debug",!1),C(this,"nativeEvent",I(this.win,"_nativeEvent",new y.A)),C(this,"_handles",I(this.win,"_handles")),C(this,"_handlesTime",I(this.win,"_handlesTime")),C(this,"run",void 0),this.win.onNativeMessage=function(t){return e.handleNativeResponse(t)},this.win.onNativeEvent=function(t,r){return e.handleNativeEvent(t,r)},this.initRuntime()}var e,r,n;return e=t,n=[{key:"getInstance",value:function(){return this.instance||(this.instance=new t),this.instance}}],(r=[{key:"initRuntime",value:function(){var t,e,r=this;this.win.androidBridge&&(this.run=function(t){return r.win.androidBridge.handle(t)}),null!==(t=this.win.webkit)&&void 0!==t&&t.messageHandlers.handle&&(this.run=function(t){return r.win.webkit.messageHandlers.handle.postMessage(t)}),null!==(e=this.win.ue)&&void 0!==e&&e.pspcsdk&&(this.run=function(t){return r.win.ue.pspcsdk.handle(t)})}},{key:"callNative",value:function(t){var e,r,n,o,i=this,a=(null===t||void 0===t||null===(e=t.args)||void 0===e?void 0:e.timeout)||this._timeout,c=(null===t||void 0===t||null===(r=t.args)||void 0===r?void 0:r.apiName)||"";return null!==t&&void 0!==t&&null!==(n=t.args)&&void 0!==n&&n.timeout&&delete t.args.timeout,null!==t&&void 0!==t&&null!==(o=t.args)&&void 0!==o&&o.apiName&&delete t.args.apiName,new Promise(function(e,r){var n=t.handleId||i.getHandleId();t.handleId=n,i._handles[n]=function(t){i.clearHandle(n),i.debug;var o=t.ret,a=t.msg,u=t.data;if(0===o){var l=u;if(u&&"string"===typeof u){l=decodeURIComponent(u);try{l=JSON.parse(l)}catch(s){}}l=function(t,e){var r={getLoginSession:function(){return null!==e&&void 0!==e&&e.nid&&P(e.nid,"",e.roleId),e},getDeviceInfo:function(){return null!==e&&void 0!==e&&e.deviceId&&P("",e.deviceId,""),null!==e&&void 0!==e&&e.gameLang&&(h.includes(e.gameLang)||(e.gameLang="")),e},getSdkInfo:function(){return null!==e&&void 0!==e&&e.gameLang&&(h.includes(e.gameLang)||(e.gameLang="")),e}};return r.hasOwnProperty(t)?r[t]():e}(c,l),e(l)}else r(new Error(a))},i._handlesTime[n]=setTimeout(function(){i.clearHandle(n),r(new Error("timeout"))},a),i.callNativeInternal(t,function(){i.clearHandle(n),r(new Error("bridge.handle undefined"))})})}},{key:"clearHandle",value:function(t){this.debug,this._handles[t]&&delete this._handles[t],this._handlesTime[t]&&(clearTimeout(this._handlesTime[t]),delete this._handlesTime[t])}},{key:"callNativeInternal",value:function(t,e){var r=JSON.stringify(t);if(this.run)return this.debug,this.run(r);e()}},{key:"handleNativeResponse",value:function(t){try{this.debug;var e=JSON.parse(t),r=e.handleId,n=this._handles[r];n?n(e):this.debug}catch(o){}}},{key:"handleNativeEvent",value:function(t,e){if(e&&"string"===typeof e){e=decodeURIComponent(e);try{e=JSON.parse(e)}catch(r){}}this.nativeEvent.emit(t,e)}},{key:"getHandleId",value:function(){return"BridgeHandle".concat(this._handleId++)}}])&&_(e.prototype,r),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach(function(e){R(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function R(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}C(T,"instance",void 0);var B,M=new Set(["eventNames","on","once","off"]),q=(B={papersdk:{showNavBar:"showNavBar",share:"psSocialShare",setRightOption:"setRightOption",setNavBar:"setNavBar",setLeftOption:"setLeftOption",setDisablePageBack:"setDisablePageBack",setClipboard:"setClipboard",setCanPullDown:"setCanPullDown",sendPayResult:"psApple3thdPayResult",sendMsgToGame:"psJsNotification",saveImage:"psSaveImage",requestPermission:"psRequestPermission",postMessage:"postMessage",openSetting:"psOpenSetting",hideNavBar:"hideNavBar",getPayParameters:"psApple3thdPayParams",getPageInfo:"getPageInfo",getOrientation:"getOrientation",getNetworkType:"getNetworkType",getNavBar:"getNavBar",getLoginSession:"psLoginSession",getDeviceInfo:"psGetDeviceInfoV2",getClipboard:"getClipboard",getAppExtra:"psAppExtra",compliancePermission:"psComplianceRequestPermission",close:"psWebClose",chooseImage:"chooseImage",checkPermission:"psCheckPermission",canIUse:"canIUse"},pspcsdk:{sendPayResult:"pspcsdk://webview/pay/result",sendMsgToGame:"pspcsdk://webview/jsToGame",sendCaptchaResult:"pspcsdk://webview/risk/result",getSdkInfo:"pspcsdk://webview/sdkInfo",getPayParameters:"pspcsdk://webview/pay/parameters",getLoginSession:"pspcsdk://webview/login/session",getCaptchaInfo:"pspcsdk://webview/risk/captchainfo",getAppExtra:"pspcsdk://webview/gameToJS",close:"pspcsdk://webview/close"}},O?function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){j(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},B[O]||{}):{}),G=d,W=function(){if("undefined"!==typeof window){var t=window;if(t._JSB)return t._JSB;var e=new Proxy(T.getInstance(),{get:function(t,e){return M.has(e)?Reflect.get(t.nativeEvent,e).bind(t.nativeEvent):G.has(e)?function(r){return Reflect.get(t.nativeEvent,"on").call(t.nativeEvent,e,r)}:function(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===(r=n)||"object"!==x(r)||Array.isArray(r))throw new Error("args must is object");if(v.has(e))return t.callNative({method:e,args:D(D({},n),{},{apiName:e})});var o=q[e];if(n=function(t,e,r){var n={chooseImage:function(){return{timeout:36e6}},canIUse:function(){return{api:r||t}}};return n.hasOwnProperty(t)?n[t](e):e}(e,n,o),!o||""===o)throw new Error("method not register");return t.callNative({method:o,args:D(D({},n),{},{apiName:e})})}},set:function(t,e,r){return"debug"===e&&(t.debug=r,!0)}});return t._JSB=e,t._JSB}}();const U=W;var F="/v1/user/login",K="/v1/user/mobile/register",z="/v1/user/account/send/code",J="/v1/user/3rd/login",Q="/v1/user/3rd/oauth/login/url",H="/v1/user/3rd/login/bind",V="/v1/user/3rd/unbind",Y="/v1/user/3rd/bindstatus",$="/v1/user/3rd/rolebind",X="/v1/user/3rd/roleunbind",Z="/v1/user/3rd/rolebindstatus",tt="/v1/user/3rd/bind/email",et="/v1/accessories/gameconfig/serverlist",rt="/v1/accessories/gameconfig/gosserverlist",nt="/v1/user/role/list",ot="/v1/user/account/exists",it="/v1/user/account/code/verify",at="/v1/user/email/register",ct="/v1/user/password/reset",ut="/v1/user/profile/get",lt="/v1/user/login/redirect",st="/v1/user/real/add",ft="/v1/user/password/reset/nid",pt="/v1/user/cancellation/status",dt="/v1/user/cancellation/handle",vt="/v1/user/cancellation/role/list",yt="/v1/user/cancellation/role/check",ht="/v1/user/cancellation/submit",bt="/v1/user/cancellation/role/status",mt="/v1/user/cancellation/code/verify",gt="/v1/user/password/reset",wt="/v1/user/account/send/link",Ot="/v1/user/password/reset/link",kt="/v1/user/cancellation/real/check",St="/v1/user/cancellation/password/check",jt="/v1/user/account/send/code/nid",xt="/v1/user/account/code/nid/verify",Pt="/v1/user/account/send/link/nid",Et="/v1/user/password/reset/nid",_t="/v1/user/address/set/batch",Ct="/v1/user/account/send/code/nid/bind",Lt="/v1/user/account/bind",It="/v1/user/account/change",Tt="/v1/user/account/link/change/verify",Nt="/v1/user/account/send/link/change",At="/v1/user/account/link/verify",Dt="/v1/user/account/send/code/bind",Rt="/v1/user/login/redirect",Bt="/v1/user/transfer/zone/limit",Mt="/v1/user/transfer/role/list",qt="/v1/user/transfer/zone/get",Gt="/v1/user/transfer/eligible",Wt="/v1/user/transfer/real/check",Ut="/v1/user/transfer/real/add",Ft="/v1/user/transfer/submit",Kt="/v1/user/transfer/query",zt="/v1/user/transfer/list",Jt="/v1/user/subscribe/remind",Qt="/v1/user/subscribe",Ht="/v1/user/subscribe/link",Vt="/v1/user/subscription/list",Yt="/v1/accessories/shorturl/query",$t="/v1/user/rolestatus",Xt="tdsNid",Zt="tdsToken",te=r(8207),ee=r(3037),re=r(4651),ne="login_window_closed",oe="get_auth_page_url_failed",ie="auth_failed",ae=r(6266),ce=function(t){try{return JSON.parse(t)}catch(e){return{}}},ue=ae.A.create({}),le=function(t){try{var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(e).split("").map(function(t){return"%".concat("00".concat(t.charCodeAt(0).toString(16)).slice(-2))}).join(""));return JSON.parse(r)}catch(n){return{}}},se=r(5766),fe=r(4736),pe=r(5247),de=r(3342);function ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return ye(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var he=function(t){for(var e=String(t),r=0,n=Object.entries(f.Q2);r<n.length;r++){var o=ve(n[r],2),i=o[0],a=o[1];if(a.clientid===e)return{client:i,clientid:a.clientid,clientkey:a.clientkey,region:i.endsWith("CN")?"cn":"oversea"}}};function be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ge=function(t,e){var r="region"in t?t.region:null,n="clientid"in t?t.clientid:"",o=("clientkey"in t?t.clientkey:f.R8[n])||"";if("client"in t&&(!n||!o)){var i=t.client;r=i.endsWith("CN")?"cn":"oversea";var a=function(t){var e,r,n,o,i,a,c,u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,p.I)(),s=t.endsWith("CN")?"cn":"oversea";return"deepspaceCN"!==t||"dev"!==l&&"test"!==l?"nikki5CN"!==t||"dev"!==l&&"test"!==l?"nikki5Other"!==t||"dev"!==l&&"test"!==l?{clientid:(null===(e=f.Q2[t])||void 0===e?void 0:e.clientid)||"",clientkey:(null===(r=f.Q2[t])||void 0===r?void 0:r.clientkey)||"",client:t,region:s}:{clientid:(null===(c=f.Q2.nikki5PayOther)||void 0===c?void 0:c.clientid)||"",clientkey:(null===(u=f.Q2.nikki5PayOther)||void 0===u?void 0:u.clientkey)||"",client:t,region:s}:{clientid:(null===(i=f.Q2.nikki5DevCN)||void 0===i?void 0:i.clientid)||"",clientkey:(null===(a=f.Q2.nikki5DevCN)||void 0===a?void 0:a.clientkey)||"",client:t,region:s}:{clientid:(null===(n=f.Q2.deepspaceDevCN)||void 0===n?void 0:n.clientid)||"",clientkey:(null===(o=f.Q2.deepspaceDevCN)||void 0===o?void 0:o.clientkey)||"",client:t,region:s}}(i,e);n=a.clientid,o=a.clientkey}if(!r)for(var c=0,u=Object.entries(f.Q2);c<u.length;c++){var l=be(u[c],2),s=l[0];if(l[1].clientid===String(n)){r=s.endsWith("CN")?"cn":"oversea";break}}return{region:r=r||"cn",clientid:n,clientkey:o}},we=r(6573),Oe=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===(e=he(t))||void 0===e?void 0:e.region)||"cn",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,p.I)(),o=String(t||0);if("prod"===n&&o){var i=(0,we.um)(o);if(i)return i}return"oversea"===r?we.ww[n]:we.tj[n]},ke=function(t){return t[t["\u624b\u673a\u8865\u5168"]=2204]="\u624b\u673a\u8865\u5168",t[t["\u6781\u9a8c"]=2203]="\u6781\u9a8c",t[t["\u9519\u8bef\u63d0\u793a"]=2206]="\u9519\u8bef\u63d0\u793a",t}({});function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function je(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Se(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xe="security-check",Pe="https://assets.papegames.com/resources/cdn/20240423/106788cb5c3d88a5.jpg",Ee=je(je(je({},ke.\u624b\u673a\u8865\u5168,"codepage"),ke.\u6781\u9a8c,"machinepage"),ke.\u9519\u8bef\u63d0\u793a,"riskerrorpage"),_e=[ke.\u624b\u673a\u8865\u5168,ke.\u9519\u8bef\u63d0\u793a,ke.\u6781\u9a8c],Ce=r(5338),Le=r(5402),Ie=r(4578);function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach(function(e){Re(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Re(t,e,r){return(e=Be(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Be(t){var e=function(t,e){if("object"!=Te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Te(e)?e:String(e)}var Me=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,"context",{env:"prod",language:"zh-cn",clientid:"",riskConfig:{appId:"",appKey:"",aesKey:""},riskData:{nonce:""},deviceId:{}}),Re(this,"instance",ae.A.create());var n=e.env,o=e.language,i=e.riskConfig,a=e.clientid,c=e.onError,u=e.baseURL;this.context=Object.assign(this.context,{env:n,language:o,riskConfig:i,clientid:a});var l=he(a),s="oversea"===(null===l||void 0===l?void 0:l.region)?we.fG:we.m,f=u||s[n];this.instance=ae.A.create({baseURL:f,headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",timeout:15e3}),this.instance.interceptors.request.use(function(t){var e,n,o,i,a,c,u=(null===r||void 0===r||null===(e=r.context)||void 0===e||null===(e=e.riskConfig)||void 0===e?void 0:e.aesKey)||"",l=(null===r||void 0===r||null===(n=r.context)||void 0===n||null===(n=n.riskConfig)||void 0===n?void 0:n.appKey)||"",s=(null===r||void 0===r||null===(o=r.context)||void 0===o||null===(o=o.riskConfig)||void 0===o?void 0:o.appId)||"",f=String(~~((new Date).getTime()/1e3));t.data=Ae(Ae({},t.data),{},{nonce:null===(i=r.context)||void 0===i||null===(i=i.riskData)||void 0===i?void 0:i.nonce,DOID:null===(a=r.context)||void 0===a||null===(a=a.deviceId)||void 0===a?void 0:a.fid});var p={app_id:s,timestamp:f,sign_type:"hmac",clientid:r.context.clientid,lang:null===r||void 0===r||null===(c=r.context)||void 0===c?void 0:c.language,data:(0,se.ff)(JSON.stringify(t.data),u)};return p.sign=(0,se.o0)(p,l||"",["data"]),t.data=p,t}),this.instance.interceptors.response.use(function(t){var e=t.data;return 0===e.code?("data"in e&&"object"!==Te(e.data)&&(e.data=JSON.parse((0,se.F6)(e.data,r.context.riskConfig.aesKey))),e.data):(null===c||void 0===c||c(null===e||void 0===e?void 0:e.info),Promise.reject(e))},function(t){return null===c||void 0===c||c((null===t||void 0===t?void 0:t.message)||""),Promise.reject(t)})}var e,r,n;return e=t,r=[{key:"updateContext",value:function(t){var e=he(t.clientid),r="oversea"===(null===e||void 0===e?void 0:e.region)?we.fG:we.m,n=t.env;this.context.env=n;var o=r[n];this.instance.defaults.baseURL=o,(0,Ie.A)(this.context,t,function(t,e){return e||t})}}],r&&De(e.prototype,r),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var qe={appId:"1010013",appKey:"NsalbZh76U8VGJp1",aesKey:"ZTM7fu0xYnzkE5Km"};function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ue(n.key),n)}}function Ue(t){var e=function(t,e){if("object"!=Ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ge(e)?e:String(e)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}function Ke(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=ze(t);if(e){var o=ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ge(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}var Je="v1/risk/phone/check",Qe="v1/risk/code/check",He="v1/risk/captcha/g/check",Ve=new(function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(i,t);var e,r,n,o=Ke(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"phoneCheck",value:function(t){return this.instance.request({url:Je,method:"post",data:t})}},{key:"codeCheck",value:function(t){return this.instance.request({url:Qe,method:"post",data:t})}},{key:"gtCheck",value:function(t){return this.instance.request({url:He,method:"post",data:t})}}])&&We(e.prototype,r),n&&We(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Me))({env:"prod",clientid:"1008",language:"en",riskConfig:qe});const Ye=function(t){var e,r,n=null===(e=window)||void 0===e?void 0:e.$tlog;null===n||void 0===n||null===(r=n.send)||void 0===r||r.call(n,t)};var $e=r(2223);const Xe=JSON.parse('{"en":{"2206":"Your request has been intercepted, please try again later","title":"Security verification","subTitle":"Please select the account type that accepts the verification code and provide complete information","getCode":"Obtain verification code","placeholderText":"Please enter","placeholderCompletion":"Please complete your phone number","phoneCheckError":"Phone number verification failed","networkError":"Network timeout, please try again later","next":"Next","placeholderCode":"Please enter the verification code","confirm":"Confirm","confirmTip":"Closing verification is considered as verification failure, which may increase account risk. Are you sure to close?","reConfirm":" Re certification"},"zh-cn":{"2206":"\u60a8\u7684\u8bf7\u6c42\u5df2\u88ab\u62e6\u622a\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","title":"\u5b89\u5168\u9a8c\u8bc1","subTitle":"\u8bf7\u9009\u62e9\u63a5\u53d7\u9a8c\u8bc1\u7801\u7684\u8d26\u53f7\u7c7b\u578b\u5e76\u8865\u5145\u5b8c\u6574\u4fe1\u606f","getCode":"\u83b7\u53d6\u9a8c\u8bc1\u7801","placeholderText":"\u8bf7\u8f93\u5165","placeholderCompletion":"\u8bf7\u8865\u5168\u624b\u673a\u53f7\u7801","phoneCheckError":"\u624b\u673a\u53f7\u9a8c\u8bc1\u5931\u8d25","networkError":"\u7f51\u7edc\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5","next":"\u4e0b\u4e00\u6b65","placeholderCode":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801","confirm":"\u786e\u8ba4","confirmTip":"\u5173\u95ed\u9a8c\u8bc1\u89c6\u4e3a\u9a8c\u8bc1\u5931\u8d25\uff0c\u53ef\u80fd\u5bfc\u81f4\u8d26\u53f7\u98ce\u9669\u63d0\u9ad8\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\uff1f","reConfirm":" \u91cd\u65b0\u8ba4\u8bc1"},"zh-tw":{"2206":"\u60a8\u7684\u8acb\u6c42\u5df2\u88ab\u6514\u622a\uff0c\u8acb\u7a0d\u5f8c\u91cd\u8a66","title":"\u5b89\u5168\u9a57\u8b49","subTitle":"\u8acb\u9078\u64c7\u63a5\u53d7\u9a57\u8b49\u78bc\u7684\u5e33\u865f\u985e\u578b\u4e26\u88dc\u5145\u5b8c\u6574\u8cc7\u8a0a","getCode":"\u7372\u53d6\u9a57\u8b49\u78bc","placeholderText":"\u8acb\u8f38\u5165","placeholderCompletion":"\u8acb\u88dc\u5168\u624b\u6a5f\u865f\u78bc","phoneCheckError":"\u624b\u6a5f\u865f\u9a57\u8b49\u5931\u6557","networkError":"\u7db2\u7d61\u8d85\u6642\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66","next":"\u4e0b\u4e00\u6b65","placeholderCode":"\u8acb\u8f38\u5165\u9a57\u8b49\u78bc","confirm":"\u78ba\u8a8d","confirmTip":"\u95dc\u9589\u9a57\u8b49\u8996\u70ba\u9a57\u8b49\u5931\u6557\uff0c\u53ef\u80fd\u5c0e\u81f4\u5e33\u865f\u98a8\u96aa\u63d0\u9ad8\uff0c\u662f\u5426\u78ba\u8a8d\u95dc\u9589\uff1f","reConfirm":" \u91cd\u65b0\u8a8d\u8b49"},"jp":{"2206":"\u8981\u6c42\u304c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5f8c\u3067\u518d\u8a66\u884c\u3057\u3066\u304f\u3060\u3055\u3044","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u691c\u8a3c","subTitle":"\u8a8d\u8a3c\u30b3\u30fc\u30c9\u3092\u53d7\u3051\u53d6\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u3001\u5b8c\u5168\u306a\u60c5\u5831\u3092\u88dc\u5145\u3057\u3066\u304f\u3060\u3055\u3044","getCode":"\u8a8d\u8a3c\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044","placeholderText":"\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","placeholderCompletion":"\u643a\u5e2f\u756a\u53f7\u3092\u88dc\u5b8c\u3057\u3066\u304f\u3060\u3055\u3044","phoneCheckError":"\u643a\u5e2f\u756a\u53f7\u306e\u691c\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f","networkError":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3001\u5f8c\u3067\u518d\u8a66\u884c\u3057\u3066\u304f\u3060\u3055\u3044","next":"\u6b21\u3078","placeholderCode":"\u8a8d\u8a3c\u30b3\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","confirm":"\u78ba\u8a8d","confirmTip":"\u8a8d\u8a3c\u3092\u30aa\u30d5\u306b\u3059\u308b\u3053\u3068\u306f\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u305f\u3068\u307f\u306a\u3055\u308c\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30ea\u30b9\u30af\u304c\u9ad8\u307e\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u30aa\u30d5\u3092\u78ba\u8a8d\u3057\u307e\u3059\u304b\uff1f","reConfirm":" \u518d\u8a8d\u5b9a"},"ko":{"2206":"\ub2f9\uc2e0\uc758 \uc694\uccad\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uc2ed\uc2dc\uc624.","title":"\ubcf4\uc548 \uc778\uc99d","subTitle":"\uc778\uc99d \ucf54\ub4dc\ub97c \uc218\ub77d\ud560 \uacc4\uc815 \uc720\ud615\uc744 \uc120\ud0dd\ud558\uace0 \uc804\uccb4 \uc815\ubcf4\ub97c \ucd94\uac00\ud558\uc2ed\uc2dc\uc624.","getCode":"\uc778\uc99d \ucf54\ub4dc \uac00\uc838\uc624\uae30","placeholderText":"\uc785\ub825\ud558\uc2ed\uc2dc\uc624","placeholderCompletion":"\ud734\ub300\ud3f0 \ubc88\ud638 \ubcf4\ucda9\ud574\uc8fc\uc138\uc694","phoneCheckError":"\ud734\ub300\ud3f0 \ubc88\ud638 \ud655\uc778 \uc2e4\ud328","networkError":"\ub124\ud2b8\uc6cc\ud06c \uc2dc\uac04 \ucd08\uacfc, \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uc138\uc694","next":"\ub2e4\uc74c","placeholderCode":"\uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc2ed\uc2dc\uc624","confirm":"\ud655\uc778","confirmTip":"\uc778\uc99d \ub2eb\uae30\ub294 \uc778\uc99d \uc2e4\ud328\ub85c \uac04\uc8fc\ub418\uba70 \uacc4\uc815 \uc704\ud5d8\uc774 \ub192\uc544\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2eb\uae30\ub97c \ud655\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","reConfirm":" \uc7ac\uc778\uc99d"}}');const Ze=function(){return function(t,e){var r,n;return(null===Xe||void 0===Xe||null===(r=Xe[e])||void 0===r?void 0:r[t])||(null===Xe||void 0===Xe||null===(n=Xe.en)||void 0===n?void 0:n[t])||"".concat(e,".").concat(t)}};var tr=r(4848);const er=function(t){var e=t.onClose,r=t.code,n=t.info,o=t.language,i=Ze(),a=r?i(r,o):null!==n&&void 0!==n?n:i("networkError",o);return(0,tr.jsxs)("div",{className:"".concat(xe,"-error-info"),children:[(0,tr.jsx)("img",{className:"".concat(xe,"-close"),onClick:(0,$e.A)(e,300),src:Pe}),(0,tr.jsx)("div",{className:"".concat(xe,"-error-info-message"),children:a})]})};var rr=r(6540);function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(){or=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function g(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(I([])));k&&k!==r&&n.call(k,a)&&(w=k);var S=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==nr(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nr(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(x.prototype),l(x.prototype,c,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function ir(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function ar(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){ir(i,n,o,a,c,"next",t)}function c(t){ir(i,n,o,a,c,"throw",t)}a(void 0)})}}const cr=function(t){var e=(0,rr.useRef)(!1);return(0,rr.useCallback)(ar(or().mark(function r(){var n,o=arguments;return or().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=2;break}return r.abrupt("return");case 2:return e.current=!0,r.prev=3,r.next=6,t.apply(void 0,o);case 6:return n=r.sent,e.current=!1,r.abrupt("return",n);case 11:throw r.prev=11,r.t0=r.catch(3),e.current=!1,r.t0;case 15:case"end":return r.stop()}},r,null,[[3,11]])})),[t])};const ur=function(t){var e=re.os.isPC()?"pc":"mobile",r=document.body,n="".concat(xe,"-toast-").concat(e),o=null;o?o.innerHTML="<div>".concat(t,"</div>"):((o=document.createElement("div")).setAttribute("class",n),o.innerHTML="<div>".concat(t,"</div>"),r.append(o)),o.classList.remove(n),o.offsetWidth,o.classList.add(n)};const lr=function(t){var e=t.text,r=t.onClick,n=void 0===r?function(){}:r;return(0,tr.jsx)("div",{className:"".concat(xe,"-btn"),onClick:(0,$e.A)(n,100),children:(0,tr.jsx)("span",{children:e})})};function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function fr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fr(Object(r),!0).forEach(function(e){dr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function dr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const vr=function(t){Ze();var e=t.prefix,r=t.suffix,n=t.placeholder,o=t.showDivider,i=void 0!==o&&o,a=t.maxLength,c=t.value,u=t.onChange,l=t.type,s=void 0===l?"text":l;return(0,tr.jsxs)("div",{className:"".concat(xe,"-input"),children:[e&&(0,tr.jsx)("div",{className:"".concat(xe,"-input-prefix"),children:e}),i&&e&&(0,tr.jsx)("div",{className:"".concat(xe,"-input-divider"),style:{marginRight:"1em"}}),(0,tr.jsx)("input",pr(pr(pr({placeholder:n,type:"text"},"number"===s&&{inputMode:"tel"}),{},{onInput:function(t){var e=t.target,r=e.value;if("number"===s){var n=r.replace(/\D/g,"");e.value=n}},maxLength:a},c&&{value:c}),u&&{onChange:u})),i&&r&&(0,tr.jsx)("div",{className:"".concat(xe,"-input-divider"),style:{marginLeft:"1em"}}),r&&(0,tr.jsx)("div",{className:"".concat(xe,"-input-suffix"),children:r})]})};function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hr(Object(r),!0).forEach(function(e){mr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function mr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gr(){gr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function g(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(I([])));k&&k!==r&&n.call(k,a)&&(w=k);var S=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==yr(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yr(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(x.prototype),l(x.prototype,c,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function wr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function Or(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){wr(i,n,o,a,c,"next",t)}function c(t){wr(i,n,o,a,c,"throw",t)}a(void 0)})}}function kr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Sr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const jr=function(t){var e,r,n=t.onClose,o=t.onError,i=t.securityService,a=t.language,c=t.risk,u=Ze(),l=null===c||void 0===c||null===(e=c.phone)||void 0===e?void 0:e[0],s=null===c||void 0===c||null===(r=c.phone)||void 0===r?void 0:r[1],f=kr((0,rr.useState)({phoneCompletion:"",code:""}),2),p=f[0],d=f[1],v=(0,rr.useRef)(null),y=kr((0,rr.useState)(0),2),h=y[0],b=y[1],m=(0,rr.useRef)(0),g=p.phoneCompletion,w=p.code,O=function(t){var e=t.checkCode;return new Promise(function(t,r){var n,o=null===g||void 0===g?void 0:g.trim();return(null===o||void 0===o?void 0:o.length)<4?(ur(u("placeholderCompletion",a)),void r(u("placeholderCompletion",a))):!e||null!==p&&void 0!==p&&null!==(n=p.code)&&void 0!==n&&n.trim()?void t(!0):(ur(u("placeholderCode",a)),void r(u("placeholderCode",a)))})},k=cr(Or(gr().mark(function t(){return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(h>0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O({checkCode:!1});case 4:return t.next=6,i.phoneCheck({phone:[l,p.phoneCompletion,s].join("")});case 6:m.current=60,v.current=setInterval(function(){m.current<=0?(clearInterval(v.current),m.current=0):(m.current=m.current-1,b(m.current))},1e3);case 8:case"end":return t.stop()}},t)}))),S=cr(Or(gr().mark(function t(){return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O({checkCode:!0});case 2:return t.prev=2,t.next=5,i.codeCheck({code:p.code});case 5:null===n||void 0===n||n(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),null===o||void 0===o||o({code:(null===t.t0||void 0===t.t0?void 0:t.t0.code)||-1,info:(null===t.t0||void 0===t.t0?void 0:t.t0.info)||"",request_id:(null===t.t0||void 0===t.t0?void 0:t.t0.request_id)||""});case 11:case"end":return t.stop()}},t,null,[[2,8]])})));return(0,tr.jsxs)("div",{className:"".concat(xe,"-sec-completion"),children:[(0,tr.jsx)("img",{className:"".concat(xe,"-close"),onClick:(0,$e.A)(function(){return n(!1)},300),src:Pe}),(0,tr.jsx)("div",{className:"".concat(xe,"-title"),children:u("title",a)}),(0,tr.jsx)("div",{className:"".concat(xe,"-sub-title"),children:u("subTitle",a)}),(0,tr.jsx)(vr,{prefix:l,suffix:s,maxLength:4,value:g,type:"number",placeholder:u("placeholderCompletion",a),onChange:function(t){d(br(br({},p),{},{phoneCompletion:t.target.value}))}}),(0,tr.jsx)(vr,{suffix:(0,tr.jsx)("a",{onClick:(0,$e.A)(k,300),children:h?"".concat(h,"s"):u("getCode",a)}),showDivider:!0,value:w,type:"number",placeholder:u("placeholderCode",a),onChange:function(t){d(br(br({},p),{},{code:t.target.value}))}}),(0,tr.jsx)(lr,{text:u("next",a),onClick:(0,$e.A)(S,300)})]})};var xr=void 0,Pr=function(t,e){var r=e||{},n=r.wrapperClassName,o=void 0===n?"security-check-wrapper":n,i=r.className,a=void 0===i?"security-check-body":i,c=r.zIndex,u=void 0===c?9999:c,l=document.body,s=re.os.isPC()?"pc":"mobile",f=document.createElement("div");xr=(0,Ce.H)(f);var p=(0,tr.jsx)("div",{className:"".concat(o," ").concat(xe,"-").concat(s,"-wrapper ").concat(xe,"-wrapper"),style:{zIndex:u},children:(0,tr.jsx)("div",{className:"".concat(a," ").concat(xe,"-body"),children:t})});l.appendChild(f),xr.render(p)},Er=function(t,e){Ve.updateContext({env:t.env||(0,p.I)()||"prod",clientid:t.clientid,language:t.language,riskConfig:t.riskConfig,riskData:t.risk,deviceId:t.deviceId}),t.riskBaseURL&&(Ve.instance.defaults.baseURL=t.riskBaseURL);var r=(t||{}).response;(null===r||void 0===r?void 0:r.code)===ke.\u624b\u673a\u8865\u5168&&t.risk&&function(t,e){var r,n={pageName:"codepage",riskID:null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.request_id};Ye({action:de.l.CLICK,actionname:"risk_ui_open",actionparam:n,actionresult:1}),Pr((0,tr.jsx)(jr,{language:t.language,onClose:function(e){var r,o;null===(r=xr)||void 0===r||r.unmount(),null===t||void 0===t||null===(o=t.onFinish)||void 0===o||o.call(t,e),Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:n,actionresult:e?1:-2})},onError:function(t){Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:n,actionresult:-2,extra:null===t||void 0===t?void 0:t.code})},securityService:Ve,risk:t.risk}),e)}(t,e),(null===r||void 0===r?void 0:r.code)===ke.\u9519\u8bef\u63d0\u793a&&function(t,e){var r,n,o={pageName:"riskerrorpage",riskID:null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.request_id};Ye({action:de.l.CLICK,actionname:"risk_ui_open",actionparam:o,actionresult:1}),Pr((0,tr.jsx)(er,{code:(null===(n=t.response)||void 0===n?void 0:n.code)||0,language:t.language,onClose:function(){var e,r;null===(e=t.onFinish)||void 0===e||e.call(t,!1),null===(r=xr)||void 0===r||r.unmount(),Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:o,actionresult:-2})}}),e)}(t,e),(null===r||void 0===r?void 0:r.code)===ke.\u6781\u9a8c&&function(t){var e;Le.l.clearSuccessCallbacks(),Le.l.clearCloseCallbacks(),Le.l.clearErrorCallbacks();var r=t.onFinish,n={pageName:"machinepage",riskID:null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.request_id};Le.l.addErrorCallback(function(t){Ye({action:de.l.CLICK,actionname:"risk_ui_open",actionparam:n,actionresult:1,extra:null===t||void 0===t?void 0:t.code})}),Le.l.addCloseCallback(function(){Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:n,actionresult:-2}),null===r||void 0===r||r(!1)}),Le.l.show({successCb:function(){Ye({action:de.l.CLICK,actionname:"risk_ui_open",actionparam:n,actionresult:1})},errorCb:function(){Ye({action:de.l.CLICK,actionname:"risk_ui_open",actionparam:n,actionresult:2,extra:"\u6781\u9a8c\u9a8c\u8bc1\u7801\u5c1a\u672a\u521d\u59cb\u5316"})}}),Le.l.addSuccessCallback(function(t){Ve.gtCheck({number:t.lot_number,captcha:t.captcha_output,token:t.pass_token,time:t.gen_time,provider:1,client_id:Ve.context.clientid,captcha_id:t.captcha_id}).then(function(){null===r||void 0===r||r(!0),Le.l.clearSuccessCallbacks(),Le.l.clearErrorCallbacks(),Le.l.clearCloseCallbacks(),Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:n,actionresult:1})}).catch(function(){Le.l.show(),Ye({action:de.l.CLICK,actionname:"risk_ui_close",actionparam:n,actionresult:-2})})})}(t)},_r=["lang","env","apiURL","commonData","onBefore","onSuccess","onError","onTokenError","captcha","errorMaps"];function Cr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Lr(){Lr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function g(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(I([])));k&&k!==r&&n.call(k,a)&&(w=k);var S=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Ir(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ir(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(x.prototype),l(x.prototype,c,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Tr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function Nr(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Tr(i,n,o,a,c,"next",t)}function c(t){Tr(i,n,o,a,c,"throw",t)}a(void 0)})}}function Ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(r),!0).forEach(function(e){Br(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Br(t,e,r){return(e=Mr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mr(t){var e=function(t,e){if("object"!=Ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ir(e)?e:String(e)}var qr={},Gr=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Br(this,"timestamp",0),Br(this,"context",void 0),Br(this,"commonParameData",{os_platform:61,sdk_channel:1}),Br(this,"instance",void 0),Br(this,"validating",!1),Br(this,"deviceId",{}),Br(this,"deviceIdPromiseQueue",[]),Br(this,"securePromiseQueue",[]),Br(this,"riskControl",!1),Br(this,"sendRequest",function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i={url:t,data:Dr(Dr(Dr({},r.commonParameData),n),{},{sdk_channel:null!==(e=n.sdk_channel)&&void 0!==e?e:r.commonParameData.sdk_channel})};return o&&(i=Dr(Dr({},o),i)),r.instance(i)}),Br(this,"request",function(){var t=Nr(Lr().mark(function t(e){var n,o,i,a,c=arguments;return Lr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},o=c.length>2?c[2]:void 0,!r.riskControl||r.deviceId.fid&&r.deviceId.captcha){t.next=5;break}return t.next=5,new Promise(function(t){r.deviceIdPromiseQueue.push(t)});case 5:if(!r.validating){t.next=8;break}return t.next=8,new Promise(function(t,e){r.securePromiseQueue.push(function(r){r&&t(r),e(r)})});case 8:return t.next=10,r.sendRequest(e,n,o);case 10:if(i=t.sent,!_e.includes(null===i||void 0===i?void 0:i.code)){t.next=18;break}return r.validating=!0,a="object"===Ir(i.data)?i.data:ce((0,se.F6)(i.data,r.context.aesKey)),Er({response:i,language:r.context.lang,clientid:r.context.clientid,riskConfig:{appId:r.context.appId,appKey:r.context.appKey,aesKey:r.context.aesKey},env:r.context.env,risk:null===a||void 0===a?void 0:a.risk,deviceId:r.deviceId,onFinish:function(t){r.securePromiseQueue.forEach(function(e){e(t)}),r.validating=!1,r.securePromiseQueue=[]}}),t.next=17,new Promise(function(t,e){r.securePromiseQueue.push(function(r){r?t(r):e(r)})});case 17:return t.abrupt("return",r.sendRequest(e,n,o));case 18:return t.abrupt("return",i);case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Br(this,"updateCommonData",function(t){"object"===Ir(t)&&!(0,fe.Ime)(t)&&(r.commonParameData=Dr(Dr({},r.commonParameData),t))}),Br(this,"updateLang",function(t){r.context=Object.assign({},r.context,{lang:t})}),Br(this,"updateClient",function(t){var e=ge(t,r.context.env||"prod"),n=e.region,o=e.clientid;r.context=Object.assign({},r.context,t,{clientid:o,region:n}),r.instance.defaults.baseURL=Oe(r.context.clientid,n,r.context.env)});var n=e.lang,o=void 0===n?"zh-cn":n,i=e.env,a=void 0===i?(0,p.I)():i,c=e.apiURL,u=e.commonData,l=void 0===u?{}:u,s=e.onBefore,f=e.onSuccess,d=e.onError,v=e.onTokenError,y=e.captcha,h=e.errorMaps,b=void 0===h?{}:h,m=Cr(e,_r),g=ge(e,a),w=g.region,O=g.clientid,k=g.clientkey,S=(null===m||void 0===m?void 0:m.appId)||qe.appId,j=(null===m||void 0===m?void 0:m.appKey)||qe.appKey,x=(null===m||void 0===m?void 0:m.aesKey)||qe.aesKey;this.updateCommonData(l),this.context=Object.assign({},e,{clientid:O,clientkey:k,region:w,env:a,lang:o,appId:S,appKey:j,aesKey:x,captchaConfig:y}),this.instance=ae.A.create(Dr({baseURL:c||Oe(O,w,a),headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",timeout:15e3},m)),this.instance.interceptors.request.use(function(){var t=Nr(Lr().mark(function t(e){var n,o,i,a,c,u,l,f,p,d;return Lr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(null===r||void 0===r||null===(n=r.context)||void 0===n?void 0:n.aesKey)||"",l=(null===r||void 0===r||null===(o=r.context)||void 0===o?void 0:o.appKey)||"",f=(null===r||void 0===r||null===(i=r.context)||void 0===i?void 0:i.appId)||"",p=String(~~((new Date).getTime()/1e3)),e.data.DOID=(null===(a=r.deviceId)||void 0===a?void 0:a.fid)||"fe".concat((0,pe.Ak)(30)),(d={app_id:f,timestamp:p,sign_type:"hmac",clientid:r.context.clientid,lang:null===r||void 0===r||null===(c=r.context)||void 0===c?void 0:c.lang,data:(0,se.ff)(JSON.stringify(e.data),u)}).sign=(0,se.o0)(d,l||"",["data"]),"prod"!==r.context.env&&new Date,e.data=d,null===s||void 0===s||s(e),t.abrupt("return",e);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.instance.interceptors.response.use(function(t){var e,n=(null===r||void 0===r||null===(e=r.context)||void 0===e?void 0:e.aesKey)||"",o=t.data,i=t.config;r.timestamp=1e3*o.time;var a,c=o.code;if("prod"!==r.context.env)new Date;if(0===c)return"data"in o&&"object"!==Ir(o.data)&&(o.data=ce((0,se.F6)(o.data,n))),null===f||void 0===f||f(o,i.state),o.data;if(1012===c||1013===c){var u,l=Dr(Dr({},o),{},{timestamp:1e3*o.time,info:"zh-cn"===r.context.lang?"\u767b\u5f55\u6001\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55":null!==(u=null===o||void 0===o?void 0:o.info)&&void 0!==u?u:"\u670d\u52a1\u5668\u6b63\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"});return null===v||void 0===v||v(l,i.state),Promise.reject(l)}if(_e.includes(c)&&r.riskControl)return null===(a=window.$tlog)||void 0===a||a.send({action:de.l.CLICK,actionname:"risk_server_push",actionparam:{riskID:null===o||void 0===o?void 0:o.request_id,pageName:Ee[null===o||void 0===o?void 0:o.code]},actionresult:null===o||void 0===o?void 0:o.code}),o;var s,p,y=null!==(s=null!==(p=Dr(Dr({},qr),b)[c])&&void 0!==p?p:o.info)&&void 0!==s?s:"\u670d\u52a1\u5668\u6b63\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",h=Dr(Dr({},o),{},{timestamp:1e3*o.time,info:y});return null===d||void 0===d||d(h,i.state),Promise.reject(h)},function(t){var e,r,n={code:-1,timestamp:Date.now(),info:null!==(e=null===t||void 0===t?void 0:t.message)&&void 0!==e?e:t};return null===d||void 0===d||d(n,null===(r=t.config)||void 0===r?void 0:r.state),Promise.reject(n)})}var e,r,n;return e=t,(r=[{key:"updateDeviceId",value:function(t){return this.deviceId=Object.assign({},this.deviceId||{},t),!(!this.deviceId.fid||!this.deviceId.captcha)&&(this.deviceIdPromiseQueue.forEach(function(t){t(!0)}),this.deviceIdPromiseQueue=[],!0)}},{key:"updateRiskConfig",value:function(t){var e=t.appId,r=t.appKey,n=t.aesKey,o=t.riskControl;this.riskControl=null===o||void 0===o||o,Object.assign(null===this||void 0===this?void 0:this.context,{appId:e,appKey:r,aesKey:n})}},{key:"time",get:function(){return this.timestamp||Date.now()}}])&&Rr(e.prototype,r),n&&Rr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Ur(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ur(Object(r),!0).forEach(function(e){zr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jr(n.key),n)}}function zr(t,e,r){return(e=Jr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jr(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wr(e)?e:String(e)}var Qr=function(){function t(e){var r,n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,"passport",void 0),zr(this,"platform",2),zr(this,"clientid",void 0),zr(this,"riskControl",!0),zr(this,"loginScope",void 0),zr(this,"enableCookie",void 0),zr(this,"enableLocalStorage",void 0),zr(this,"updateClient",function(t){var e;n.passport.updateClient(t),n.clientid=null===(e=n.passport.context)||void 0===e?void 0:e.clientid}),zr(this,"updateLang",function(t){n.passport&&n.passport.updateLang(t)}),this.passport=e.passport||new Gr(e),this.clientid=null===(r=this.passport.context)||void 0===r?void 0:r.clientid,this.loginScope=e.loginScope,this.enableCookie=e.enableCookie||!0,this.enableLocalStorage=e.enableLocalStorage||!0}var e,r,o;return e=t,r=[{key:"isLogin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tdsJWT,r=void 0!==e&&e,o=t.enableCookie,i=void 0===o?this.enableCookie:o,a=t.enableLocalStorage,c=void 0===a?this.enableLocalStorage:a,f=t.loginScope,p=void 0===f?this.loginScope:f,d=t.onlyCookie;void 0!==d&&d&&(i=!0,c=!1);var v=(0,s.P3)(),y=v.nid,h=v.token,b=v.roleId,m=v.zoneId,g={nid:Number(y),token:h||"",roleId:b,zoneId:m},w=(0,s.g1)({keys:["nid","token"]});return history.replaceState(null,"",w),g.nid&&g.token?((0,n.w8)(String(g.nid),void 0,{enableCookie:i,enableLocalStorage:c,loginScope:p}),u(g.token,void 0,{enableCookie:i,enableLocalStorage:c,loginScope:p})):g={nid:Number((0,n.Ii)(void 0,{enableCookie:i,enableLocalStorage:c,loginScope:p})),token:l(void 0,{enableCookie:i,enableLocalStorage:c,loginScope:p})},r&&(g.tdsNid=(0,n.Ii)(Xt,{enableCookie:i,enableLocalStorage:c,loginScope:p}),g.tdsToken=l(Zt,{enableCookie:i,enableLocalStorage:c,loginScope:p})),g.nid&&(this.setTlog(String(g.nid)),this.setAliRum(String(g.nid))),(r&&g.tdsNid&&g.tdsToken||!(r||!(g.token&&g.nid||g.tokenExpired)))&&g}},{key:"onLogin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.token,o=t.nid,l=t.tdsNid,s=t.tdsToken,f=e.enableCookie,p=void 0===f?this.enableCookie:f,d=e.enableLocalStorage,v=void 0===d?this.enableLocalStorage:d,y=e.loginScope,h=void 0===y?this.loginScope:y,b=e.redirect;null!==b&&void 0!==b&&b.returnUrl?function(t,e){var r=t.returnUrl,n=t.domain,o=void 0===n?(0,c.R)(r):n,u=t.expires,l=void 0===u?7:u,s=t.nidKey,f=void 0===s?i.u$:s,p=t.tokenKey,d=void 0===p?i.wb:p,v=e.nid,y=e.token;a.A.set(f,String(v),{expires:l,domain:o}),a.A.set(d,y,{expires:l,domain:o}),window.location.replace(r)}(b,{nid:l||String(o),token:s||r}):(r&&o&&(u(r,void 0,{loginScope:h,enableCookie:p,enableLocalStorage:v}),(0,n.w8)(String(o),void 0,{loginScope:h,enableCookie:p,enableLocalStorage:v})),s&&l&&(u(s,Zt,{loginScope:h,enableCookie:p,enableLocalStorage:v}),(0,n.w8)(l,Xt,{loginScope:h,enableCookie:p,enableLocalStorage:v})),o&&(this.setTlog(String(o)),this.setAliRum(String(o))))}},{key:"setTlog",value:function(t){if(window.$tlog){var e={vopenid:t};this.clientid&&(e.clientid=this.clientid),window.$tlog.setCommon(e)}}},{key:"setAliRum",value:function(t){var e,r,n,o,i=(null===(e=window)||void 0===e||null===(e=e.RumSDK)||void 0===e||null===(e=e.default)||void 0===e||null===(r=e.getConfig)||void 0===r?void 0:r.call(e))||{};null===(n=window)||void 0===n||null===(n=n.RumSDK)||void 0===n||null===(n=n.default)||void 0===n||null===(o=n.setConfig)||void 0===o||o.call(n,Fr(Fr({},i),{},{user:{name:t||""}}))}}],r&&Kr(e.prototype,r),o&&Kr(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Hr=function(t){return t[t.Facebook=5]="Facebook",t[t.Google=6]="Google",t[t.Twitter=7]="Twitter",t[t.Apple=11]="Apple",t[t.PSN=12]="PSN",t[t.Twitch=18]="Twitch",t[t.Bilibili=21]="Bilibili",t[t.Discord=19]="Discord",t[t.WxShPaper=15]="WxShPaper",t[t.WxNuanPaper=16]="WxNuanPaper",t}({}),Vr={facebook:Hr.Facebook,twitter:Hr.Twitter,apple:Hr.Apple,psn:Hr.PSN,bilibili:Hr.Bilibili,twitch:Hr.Twitch,discord:Hr.Discord,wxShPaper:Hr.WxShPaper,wxNuanPaper:Hr.WxNuanPaper},Yr=["bilibili_code"],$r=["account_type","success","state"],Xr=["auth_action","success","state","locale"],Zr=["auth_action","success","state","locale"];function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return rn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function on(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?on(Object(r),!0).forEach(function(e){yn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function cn(){cn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function g(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(I([])));k&&k!==r&&n.call(k,a)&&(w=k);var S=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==tn(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tn(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(x.prototype),l(x.prototype,c,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function un(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function ln(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){un(i,n,o,a,c,"next",t)}function c(t){un(i,n,o,a,c,"throw",t)}a(void 0)})}}function sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hn(n.key),n)}}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}function pn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=vn(t);if(e){var o=vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===tn(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dn(t)}(this,r)}}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vn(t){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vn(t)}function yn(t,e,r){return(e=hn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hn(t){var e=function(t,e){if("object"!=tn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tn(e)?e:String(e)}var bn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(a,t);var e,r,n,i=pn(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return yn(dn(t=i.call.apply(i,[this].concat(r))),"loginWindowContext",null),yn(dn(t),"bilibiliLogin",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.blibiliId,n=void 0===r?"d4aee5996857435b":r,o=e.returnUrl,i=void 0===o?location.href:o,a={blibili_id:n,clientid:t.clientid,api_env:(0,p.I)({noDev:!0}),return_url:i};location.replace("".concat("https://shared.torrealcielo.com/libs/bilibili_login_v2.html","?").concat((0,te.x)(a)))}),yn(dn(t),"getPigeonAccountByTdsToken",function(){var e=ln(cn().mark(function e(r){var n,o,i,a,c,u,l,s,f,d,v,y,h,b,m,g,w,O;return cn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.tdsToken,o=r.loginScope,i=void 0===o?t.loginScope:o,a=r.enableCookie,c=void 0===a?t.enableCookie:a,u=r.enableLocalStorage,l=void 0===u?t.enableLocalStorage:u,e.prev=1,s=(0,p.I)({noDev:!0}),f=["dev","test"].includes(s)?"-test":"",d="https://oid2roid".concat(f,".papegames.com/bilibili/v1/to_diezhi_token"),e.next=7,ue.post(d,{clientid:t.clientid,token:n},{headers:{"Content-Type":"multipart/form-data"}});case 7:if(200!==(v=e.sent).status||0!==v.data.ret){e.next=15;break}if(y=v.data,h=y.nid,b=y.token,!h||!b){e.next=15;break}return m=le(b)||{},g=m.diezhi_nid,w=m.diezhi_token,O={nid:Number(g),token:w,tdsNid:h,tdsToken:b},t.onLogin(O,{loginScope:i,enableCookie:c,enableLocalStorage:l}),e.abrupt("return",O);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()),t}return e=a,r=[{key:"externalLogin",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c,u,l,s,f;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.externalRawLogin(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return");case 5:return n=e.enableCookie,o=void 0===n?this.enableCookie:n,i=e.enableLocalStorage,a=void 0===i?this.enableLocalStorage:i,c=e.loginScope,u=void 0===c?this.loginScope:c,l=e.notReg,s=void 0!==l&&l,t.next=8,this.passport.request(J,an(an({},r),{},{notReg:s}));case 8:return f=t.sent,this.onLogin(f,{enableCookie:o,enableLocalStorage:a,redirect:e.redirect,loginScope:u}),t.abrupt("return",f);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"externalRawLogin",value:function(t){if(o.O)switch(t.type){case"apple":return this.appleLogin();case"facebook":return this.facebookLogin();case"twitter":return this.twitterLogin()}}},{key:"appleLogin",value:function(){var t=this;return new Promise(function(e,r){var n=window.open("".concat("https://shared.torrealcielo.com/libs/apple_login.html","?clientid=").concat(t.clientid));window.addEventListener("message",function o(i){var a=i.data||{};if("appleLogin"===a.type){var c=a.access_secret,u=a.userid;null===n||void 0===n||n.close(),window.removeEventListener("message",o),e({clientid:t.clientid,third_openid:u,account_type:Hr.Apple,third_info:JSON.stringify(an(an({},JSON.parse(c)),{},{accounttype:Hr.Apple}))})}else"appleLoginError"===a.type&&r(a.msg||"")},!1)}).catch(function(t){return Promise.reject(t)})}},{key:"facebookLogin",value:function(){var t=this,e=window.FB;return e?new Promise(function(t){e.login(t,{scope:"public_profile,email",return_scopes:!0})}).then(function(e){return{clientid:t.clientid,account_type:Hr.Facebook,platform:t.platform,third_openid:e.authResponse.userID,third_info:JSON.stringify({token:e.authResponse.accessToken,accounttype:Hr.Facebook})}}).catch(function(t){return Promise.reject(t)}):Promise.reject("Failed to load facebook script")}},{key:"twitterLogin",value:function(){var t=this;return new Promise(function(e,r){var n=window.open("".concat("https://shared.torrealcielo.com/libs/twitter_login.html","?clientid=").concat(t.clientid));window.addEventListener("message",function o(i){var a=i.data||{};if("twitterLogin"===a.type){var c=a.access_token,u=a.access_secret,l=a.userid;null===n||void 0===n||n.close(),window.removeEventListener("message",o),e({clientid:t.clientid,third_openid:l,platform:t.platform,account_type:Hr.Twitter,third_info:JSON.stringify({secret:u,auth_token:c,accounttype:Hr.Twitter}),third_auth_token:c})}else"twitterLoginError"===a.type&&(r(a.msg||""),window.removeEventListener("message",o))},!1)}).catch(function(t){return Promise.reject(t)})}},{key:"googleLoginInit",value:function(){var t=ln(cn().mark(function t(e){var r,n,i,a,c,u,l,s,f,p,d,v,y,h,b,m,g,w=this;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.O){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,ee.C)("https://accounts.google.com/gsi/client");case 4:if("ready"!==t.sent){t.next=14;break}if(r=e.element,n=e.buttonStyle,i=void 0===n?{}:n,a=e.enableCookie,c=void 0===a?this.enableCookie:a,u=e.enableLocalStorage,l=void 0===u?this.enableLocalStorage:u,s=e.successCallback,f=e.errorCallback,p=e.rawSuccessCallback,d=e.notReg,v=void 0!==d&&d,y=e.redirect,h=e.loginScope,b=void 0===h?this.loginScope:h,m=e.googleId||document.querySelector('meta[name="google:login"]').content,(g=window.google.accounts.id)&&m){t.next=12;break}return t.abrupt("return");case 12:g.initialize({client_id:m,callback:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null===(r=le(e.credential))||void 0===r?void 0:r.sub,o=e.credential,!n){t.next=23;break}if(i={clientid:w.clientid,third_openid:n,platform:w.platform,account_type:Hr.Google,third_info:JSON.stringify({credential:o,account_type:Hr.Google}),notReg:v},!s){t.next=20;break}return t.prev=5,t.next=8,w.passport.request(J,i);case 8:if(a=t.sent,w.onLogin(a,{enableCookie:c,enableLocalStorage:l,redirect:y,loginScope:b}),null===y||void 0===y||!y.returnUrl){t.next=12;break}return t.abrupt("return");case 12:null===s||void 0===s||s(a),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),null===f||void 0===f||f(t.t0);case 18:t.next=21;break;case 20:null===p||void 0===p||p(i);case 21:t.next=24;break;case 23:case 24:case"end":return t.stop()}},t,null,[[5,15]])}));return function(e){return t.apply(this,arguments)}}()}),g.renderButton(r,i);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"bilibiliLoginInit",value:function(){var t=ln(cn().mark(function t(){var e,r,n,i,a,c,u,l,f,d,v,y,h,b,m,g,w,O,k,S,j,x,P,E,_,C,L,I,T,N,A,D,R,B,M,q,G=arguments;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=G.length>0&&void 0!==G[0]?G[0]:{}).tdsJwt,n=void 0!==r&&r,i=e.loginScope,a=void 0===i?this.loginScope:i,c=e.enableCookie,u=void 0===c?this.enableCookie:c,l=e.enableLocalStorage,f=void 0===l?this.enableLocalStorage:l,o.O){t.next=3;break}throw new Error("bilibiliLoginInit should be run in browser environment");case 3:if(d=(0,s.P3)(),v=d.bilibili_code,y=nn(d,Yr),!v){t.next=39;break}if(h={error_code:9999,error_msg:""},!n){t.next=20;break}return b="https://oid2roid".concat("test"===(0,p.I)({noDev:!0})?"-test":"",".papegames.com/bilibili/v1/token"),t.prev=8,t.next=11,ue.post(b,{clientid:this.clientid,code:v},{headers:{"Content-Type":"multipart/form-data"}});case 11:200===(m=t.sent).status&&(g=m.data,w=g.nid,O=g.token,k=g.ret,S=g.msg,w&&O||(h={error_code:k||9999,error_msg:S||""}),j=le(O),P=(x=j||{}).diezhi_nid,E=void 0===P?"":P,_=x.diezhi_token,C=void 0===_?"":_,L=Number(E),I=C,this.onLogin({nid:L,token:I,tdsNid:w,tdsToken:O},{loginScope:a,enableCookie:u,enableLocalStorage:f}),h={nid:L,token:I,tdsNid:w,tdsToken:O}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8);case 18:t.next=34;break;case 20:return t.prev=20,t.next=23,this.passport.request(J,{third_info:JSON.stringify({code:v}),account_type:Hr.Bilibili,not_reg:!0});case 23:T=t.sent,N=T.nid,A=T.token,h={nid:N,token:A},this.onLogin({nid:N,token:A},{loginScope:a,enableCookie:u,enableLocalStorage:f}),t.next=34;break;case 30:t.prev=30,t.t1=t.catch(20),D=t.t1,R=D.code,B=D.info,h={error_code:R||9999,error_msg:B||""};case 34:return M=(0,te.x)(y),q=location.href.split("?")[0],M&&(q="".concat(q,"?").concat(M).concat(location.hash)),history.replaceState(null,"",q),t.abrupt("return",h);case 39:return t.abrupt("return",{});case 40:case"end":return t.stop()}},t,this,[[8,15],[20,30]])}));return function(){return t.apply(this,arguments)}}()},{key:"handleExternalRawData",value:function(t){var e=t.account_type,r=t.success,n=(t.state,nn(t,$r));if("false"===r||!e)throw{code:ie,info:n.error_description||"Auth failed"};var o=Number(e);switch(o){case Hr.Twitch:return{account_type:o,third_info:JSON.stringify({access_token:n.access_token,id_token:n.id_token})};case Hr.Apple:return{third_openid:n.third_openid,account_type:o,third_info:JSON.stringify({id_token:n.id_token,accounttype:Hr.Apple})};case Hr.Twitter:return{third_openid:n.user_id,account_type:o,third_info:JSON.stringify({secret:n.access_secret,auth_token:n.access_token,accounttype:Hr.Twitter}),third_auth_token:n.access_token};case Hr.PSN:return{account_type:Hr.PSN,third_info:JSON.stringify({auth_token:n.id_token})};case Hr.Discord:return{account_type:o,third_info:JSON.stringify({access_token:n.access_token,id_token:n.id_token,refresh_token:n.refresh_token})};case Hr.WxShPaper:case Hr.WxNuanPaper:return{account_type:o,sdk_channel:n.sdk_channel?Number(n.sdk_channel):void 0,third_info:JSON.stringify({access_token:n.access_token,openid:n.openid})};default:return{account_type:o,third_info:JSON.stringify(n)}}}},{key:"pingPopupWindow",value:function(){var t,e=this;if(this.loginWindowContext){if(null!==(t=this.loginWindowContext.window)&&void 0!==t&&t.closed)throw this.loginWindowContext.controller.abort(),this.loginWindowContext.timer=null,{code:ne,info:"Login window closed"};this.loginWindowContext.timer=setTimeout(function(){return e.pingPopupWindow()},500)}}},{key:"externalRawSignIn",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c,u,l,f,p,d,v,y,h,b,m,g,w,O=this;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.type,n=e.action,o=void 0===n?"signIn":n,i=e.redirect,a=e.sdkChannel,"facebook"!==r&&r!==Hr.Facebook){t.next=3;break}return t.abrupt("return",this.facebookLogin());case 3:return this.loginWindowContext&&(this.loginWindowContext.controller.abort(),null===(c=this.loginWindowContext.window)||void 0===c||c.close(),this.loginWindowContext.timer&&(clearTimeout(this.loginWindowContext.timer),this.loginWindowContext.timer=null),this.loginWindowContext=null),u=new AbortController,l=u.signal,f="wechat"===re.os.getBrwoserType()?null:window.open("about:blank","_blank"),t.prev=7,p=void 0,f||(p=(null===i||void 0===i?void 0:i.returnUrl)||"".concat(location.origin).concat(location.pathname),p=(0,s.JT)({params:an({auth_action:o,account_type:"string"===typeof r?Vr[r]:r},a?{sdk_channel:a}:{}),url:p})),t.next=12,this.passport.request(Q,{account_type:"string"===typeof r?Vr[r]:r,sdk_channel:a,return_url:p});case 12:if(d=t.sent,v=d.login_url,y=d.state,v){t.next=18;break}throw null===f||void 0===f||f.close(),{code:oe,info:"Get auth page url failed"};case 18:if(h=v.split("#"),b=en(h,2),m=b[0],g=b[1],w="".concat(m).concat(m.includes("?")?"&":"?","state=").concat(y).concat(g?"#".concat(g):""),f){t.next=23;break}return y&&(location.href=w),t.abrupt("return");case 23:f.location.href=w,this.loginWindowContext={window:f,controller:u},t.next=31;break;case 27:throw t.prev=27,t.t0=t.catch(7),null===f||void 0===f||f.close(),t.t0;case 31:return t.abrupt("return",new Promise(function(t){window.addEventListener("message",function(e){var r,n,o=e.data||{};if("oauth_callback"===o.type){null===(r=O.loginWindowContext)||void 0===r||null===(r=r.window)||void 0===r||r.close(),null===(n=O.loginWindowContext)||void 0===n||n.controller.abort(),O.loginWindowContext=null;var i=o.data,a=O.handleExternalRawData(i);t(a)}},{signal:l}),O.pingPopupWindow()}));case 32:case"end":return t.stop()}},t,this,[[7,27]])}));return function(e){return t.apply(this,arguments)}}()},{key:"externalSignIn",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c,u,l,f,p,d,v,y,h;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,s.P3)(),o=n.auth_action,i=n.success,n.state,n.locale,a=nn(n,Xr),"signIn"!==o){t.next=6;break}"true"===i&&(r=this.handleExternalRawData(a)),history.replaceState(null,"","".concat(location.pathname).concat(location.hash)),t.next=9;break;case 6:return t.next=8,this.externalRawSignIn(e);case 8:r=t.sent;case 9:if(r){t.next=11;break}return t.abrupt("return");case 11:return c=e.enableCookie,u=void 0===c?this.enableCookie:c,l=e.enableLocalStorage,f=void 0===l?this.enableLocalStorage:l,p=e.loginScope,d=void 0===p?this.loginScope:p,v=e.notReg,y=void 0!==v&&v,t.next=14,this.passport.request(J,an(an({},r),{},{notReg:y}));case 14:return h=t.sent,this.onLogin(h,{enableCookie:u,enableLocalStorage:f,redirect:e.redirect,loginScope:d}),t.abrupt("return",h);case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"bindAccount",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nid,n=e.token,o=e.roleId,i=e.zoneId,a=e.sdkChannel,t.next=3,this.externalRawSignIn(an(an({},e),{},{action:"bind"}));case 3:if(c=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.abrupt("return",this.passport.request(o?$:H,{accounttype:c.account_type,extra:c.third_info,nid:r,ntoken:n,role_id:o,zone_id:i,sdk_channel:a}));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"initBindAccount",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c,u,l,f;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,s.P3)(),n=r.auth_action,o=r.success,r.state,r.locale,i=nn(r,Zr),c=e.nid,u=e.token,l=e.roleId,f=e.zoneId,"bind"===n&&("true"===o&&(a=this.handleExternalRawData(i)),history.replaceState(null,"","".concat(location.pathname).concat(location.hash))),a){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.passport.request(l?$:H,{accounttype:a.account_type,sdk_channel:a.sdk_channel,extra:a.third_info,nid:c,ntoken:u,role_id:l,zone_id:f});case 7:return t.abrupt("return",{type:i.account_type});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"unbindAccount",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nid,n=e.token,o=e.type,i=e.roleId,a=e.zoneId,c=e.sdkChannel,t.abrupt("return",this.passport.request(i?X:V,{account_type:Vr[o],nid:r,token:n,role_id:i,zone_id:a,sdk_channel:c}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"queryBindStatus",value:function(){var t=ln(cn().mark(function t(e){var r,n,o,i,a,c;return cn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nid,n=e.token,o=e.type,i=e.roleId,a=e.zoneId,c=e.sdkChannel,t.abrupt("return",this.passport.request(i?Z:Y,{account_type:Vr[o],nid:r,token:n,role_id:i,zone_id:a,sdk_channel:c}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}],r&&sn(e.prototype,r),n&&sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Qr),mn=["enableCookie","enableLocalStorage","loginScope","redirect"],gn=["enableCookie","enableLocalStorage","loginScope","redirect"],wn=["source"];function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function kn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||Sn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(t,e){if(t){if("string"===typeof t)return jn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jn(t,e):void 0}}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xn(){xn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",h={};function b(){}function m(){}function g(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(I([])));k&&k!==r&&n.call(k,a)&&(w=k);var S=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==On(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(On(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(x.prototype),l(x.prototype,c,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function Pn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function En(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}function _n(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){En(i,n,o,a,c,"next",t)}function c(t){En(i,n,o,a,c,"throw",t)}a(void 0)})}}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nn(n.key),n)}}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}function In(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Tn(t);if(e){var o=Tn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===On(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}function Nn(t){var e=function(t,e){if("object"!=On(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==On(e)?e:String(e)}var An,Dn,Rn,Bn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(d,t);var e,r,o,p=In(d);function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,r=[{key:"login",value:function(){var t=_n(xn().mark(function t(e){var r,n,o,i,a,c,u,l,s;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.enableCookie,n=void 0===r?this.enableCookie:r,o=e.enableLocalStorage,i=void 0===o?this.enableLocalStorage:o,a=e.loginScope,c=void 0===a?this.loginScope:a,u=e.redirect,l=Pn(e,mn),t.next=3,this.passport.request(F,l);case 3:return s=t.sent,this.onLogin(s,{enableCookie:n,enableLocalStorage:i,loginScope:c,redirect:u}),t.abrupt("return",s);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"phoneLogin",value:function(){var t=_n(xn().mark(function t(e){var r,n,o,i,a,c,u,l,s;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.enableCookie,n=void 0===r?this.enableCookie:r,o=e.enableLocalStorage,i=void 0===o?this.enableLocalStorage:o,a=e.loginScope,c=void 0===a?this.loginScope:a,u=e.redirect,l=Pn(e,gn),t.next=3,this.passport.request(K,l);case 3:return s=t.sent,this.onLogin(s,{enableCookie:n,enableLocalStorage:i,loginScope:c,redirect:u}),t.abrupt("return",s);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getLoginByJSB",value:function(){var t=_n(xn().mark(function t(e){var r,n,o,i,a,c,u;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.getLoginSession();case 3:if(r=t.sent,n=r.nid,o=r.token,i=r.roleId,a=r.zoneId,c=r.clientId,u=r.platId,!n||!o){t.next=12;break}return t.abrupt("return",{nid:Number(n),token:o,roleId:i||e.roleId,zoneId:a||e.zoneId,clientId:c,platId:u});case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0);case 17:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getLoginByUrlTicket",value:function(){var t=_n(xn().mark(function t(e,r){var n,o;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.passport.request(Yt,{id:r});case 5:if(n=t.sent,!(o=JSON.parse(n.value)||{}).nid||!o.token){t.next=9;break}return t.abrupt("return",{nid:Number(o.nid),token:o.token,roleId:o.roleId?o.roleId:e.roleId,zoneId:o.zoneId?o.zoneId:e.zoneId,clientId:o.clientId,platId:o.platId});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e,r){return t.apply(this,arguments)}}()},{key:"checkLoginExpired",value:function(){var t=_n(xn().mark(function t(e){return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getProfile({nid:e.nid,token:e.token});case 3:t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(0),(0,n.w8)(""),u(""),t.abrupt("return",{nid:0,token:"",tokenExpired:!0});case 10:case"end":return t.stop()}},t,this,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},{key:"handleAuthAction",value:function(){var t=_n(xn().mark(function t(e,r){var n,o,i,a,c,u,l,s;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enableCookie,o=void 0===n?this.enableCookie:n,i=e.enableLocalStorage,a=void 0===i?this.enableLocalStorage:i,c=e.loginScope,u=void 0===c?this.loginScope:c,l=e.notReg,t.prev=1,t.next=4,this.externalSignIn({type:Number(r.account_type),enableCookie:o,enableLocalStorage:a,loginScope:u,sdkChannel:r.sdk_channel,notReg:l});case 4:return s=t.sent,t.abrupt("return",{nid:(null===s||void 0===s?void 0:s.nid)||0,token:(null===s||void 0===s?void 0:s.token)||""});case 8:t.prev=8,t.t0=t.catch(1);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e,r){return t.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var t=_n(xn().mark(function t(){var e,r,o,i,a,c,f,p,d,v,y,h,b,m,g,w,O,S,j,x,P,E,_,C,L,I,T,N,A,D,R,B=arguments;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=B.length>0&&void 0!==B[0]?B[0]:{}).tdsJWT,o=void 0!==r&&r,i=e.loginScope,a=void 0===i?this.loginScope:i,c=e.enableCookie,f=void 0===c?this.enableCookie:c,p=e.enableLocalStorage,d=void 0===p?this.enableLocalStorage:p,v=e.asyncValidate,y=void 0!==v&&v,h=e.updateClientFromUrl,b=void 0===h||h,m=e.notReg,g=void 0!==m&&m,w=(0,s.P3)(),O=w.nid,S=w.token,j=w.roleId,x=w.zoneId,P=w.ticket,E=w.clientId,_=w.auth_action,C=w.account_type,L=w.sdk_channel,I={nid:Number(O),token:S,roleId:j,zoneId:x},b&&E&&(this.passport.updateClient({clientid:E}),this.clientid=E),!k()||I.nid&&I.token){t.next=12;break}return t.next=8,this.getLoginByJSB(I);case 8:(T=t.sent)&&(I=T),t.next=24;break;case 12:return t.next=14,this.getLoginByUrlTicket(I,P);case 14:if((N=t.sent)&&(I=N),I.nid&&I.token?((0,n.w8)(String(I.nid),void 0,{enableCookie:f,enableLocalStorage:d,loginScope:a}),u(I.token,void 0,{enableCookie:f,enableLocalStorage:d,loginScope:a})):I={nid:Number((0,n.Ii)(void 0,{enableCookie:f,enableLocalStorage:d,loginScope:a})),token:l(void 0,{enableCookie:f,enableLocalStorage:d,loginScope:a})},A=(0,s.g1)({keys:["nid","token","ticket"]}),history.replaceState(null,"",A),!(I.nid&&I.token&&y)){t.next=24;break}return t.next=22,this.checkLoginExpired(I);case 22:(D=t.sent)&&(I=D);case 24:if("signIn"!==_||I.nid&&I.token){t.next=29;break}return t.next=27,this.handleAuthAction({enableCookie:f,enableLocalStorage:d,loginScope:a,notReg:g},{account_type:C,sdk_channel:L?Number(L):void 0});case 27:(R=t.sent)&&(I=R);case 29:if(o&&(I.tdsNid=(0,n.Ii)(Xt,{enableCookie:f,enableLocalStorage:d,loginScope:a}),I.tdsToken=l(Zt,{enableCookie:f,enableLocalStorage:d,loginScope:a})),I.nid&&(this.setTlog(String(I.nid)),this.setAliRum(String(I.nid))),!(o&&I.tdsNid&&I.tdsToken)){t.next=33;break}return t.abrupt("return",I);case 33:if(o||!(I.token&&I.nid||I.tokenExpired)){t.next=35;break}return t.abrupt("return",I);case 35:return t.abrupt("return",!1);case 36:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getProfile",value:function(){var t=_n(xn().mark(function t(e){return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.passport.request(ut,e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getZones",value:function(){var t=_n(xn().mark(function t(e){var r,n,o,i,a,c,u,l,s;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r=e||{}).source,o=Pn(r,wn),i=n){t.next=12;break}a=0,c=Object.entries(f.Q2);case 4:if(!(a<c.length)){t.next=12;break}if(u=kn(c[a],2),l=u[0],u[1].clientid!==this.clientid){t.next=9;break}return l.startsWith("nikki5")&&(i="gos"),t.abrupt("break",12);case 9:a++,t.next=4;break;case 12:return t.next=14,this.passport.request("gos"===i?rt:et,o);case 14:return s=t.sent,t.abrupt("return",s.game_config_serverlists||[]);case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRoles",value:function(){var t=_n(xn().mark(function t(){var e,r,o,i,a,c,u,s,f,p=arguments;return xn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=p.length>0&&void 0!==p[0]?p[0]:{}).nid,o=e.token,i=e.filter_valid,a=e.client,c=void 0===a?this.clientid:a,u=r||(0,n.Ii)(void 0,{enableCookie:this.enableCookie,enableLocalStorage:this.enableLocalStorage,loginScope:this.loginScope}),s=o||l(void 0,{enableCookie:this.enableCookie,enableLocalStorage:this.enableLocalStorage,loginScope:this.loginScope}),!u||!s){t.next=11;break}return t.next=7,this.passport.request(nt,{nid:u,token:s,filter_valid:i,client:c});case 7:return f=t.sent,t.abrupt("return",f.rolelist);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.keys,n=e.loginScope,o=void 0===n?this.loginScope:n,u=o?"".concat(o,"_"):"",l=r||[{nidKey:"".concat(u).concat(i.u$),tokenKey:"".concat(u).concat(i.wb)},{nidKey:"".concat(u).concat(Xt),tokenKey:"".concat(u).concat(Zt)}],s=(0,c.R)(),f=function(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Sn(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(l);try{for(f.s();!(t=f.n()).done;){var p=t.value,d=p.nidKey,v=p.tokenKey;a.A.remove(v),a.A.remove(v,{domain:s}),window.localStorage.removeItem(v),window.localStorage.removeItem(d),a.A.remove(d)}}catch(y){f.e(y)}finally{f.f()}}},{key:"sendCaptcha",value:function(t){return this.passport.request(z,t)}},{key:"valideteAccount",value:function(t){return this.passport.request(ot,{account:t})}},{key:"checkEmailCaptcha",value:function(t){return this.passport.request(it,t)}},{key:"regByEmail",value:function(t){return this.passport.request(at,t)}},{key:"resetPw",value:function(t){return this.passport.request(ct,t)}},{key:"regByPhone",value:function(t){var e=t.phone,r=t.code,n=t.password;return this.passport.request(K,{mobile:e,code:r,password:n})}},{key:"redirectNidAndToken",value:function(t){return this.passport.request(lt,t)}},{key:"addRealInfo",value:function(t){return this.passport.request(st,t)}},{key:"resetPassWordWithNid",value:function(t){return this.passport.request(ft,t)}},{key:"getCancelStatus",value:function(t){return this.passport.request(pt,t)}},{key:"cancelHandle",value:function(t){return this.passport.request(dt,t)}},{key:"getCancelRoleList",value:function(t){return this.passport.request(vt,t)}},{key:"cancelRoleCheck",value:function(t){return this.passport.request(yt,t)}},{key:"cancelRoleSubmit",value:function(t){return this.passport.request(ht,t)}},{key:"cancelRoleStatus",value:function(t){return this.passport.request(bt,t)}},{key:"cancelCodeVerify",value:function(t){return this.passport.request(mt,t)}},{key:"cancelRealCheck",value:function(t){return this.passport.request(kt,t)}},{key:"cancelPasswordCheck",value:function(t){return this.passport.request(St,t)}},{key:"resetPasswordByPhoneWithoutNid",value:function(t){return this.passport.request(gt,t)}},{key:"sendPasswordLinkByMail",value:function(t){return this.passport.request(wt,t)}},{key:"resetPasswordByMailWithoutNid",value:function(t){return this.passport.request(Ot,t)}},{key:"sendCodeWithNid",value:function(t){return this.passport.request(jt,t)}},{key:"verifyPhoneCodeWithNid",value:function(t){return this.passport.request(xt,t)}},{key:"sendEmailLinkWithNid",value:function(t){return this.passport.request(Pt,t)}},{key:"resetPasswordWithNid",value:function(t){return this.passport.request(Et,t)}},{key:"batchSubmitAddress",value:function(t){return this.passport.request(_t,t)}},{key:"getCodeForNewPhoneWithNid",value:function(t){return this.passport.request(Ct,t)}},{key:"bindNewPhoneWithNid",value:function(t){return this.passport.request(Lt,t)}},{key:"changeNewPhoneWithNid",value:function(t){return this.passport.request(It,t)}},{key:"verifyCodeForNewEmail",value:function(t){return this.passport.request(Tt,t)}},{key:"getLinkForNewMailWithNid",value:function(t){return this.passport.request(Nt,t)}},{key:"verifyCodeForOldMail",value:function(t){return this.passport.request(At,t)}},{key:"sendCodeForNewPhoneByMail",value:function(t){return this.passport.request(Dt,t)}},{key:"webviewRedirectLogin",value:function(t){return this.passport.request(Rt,t)}},{key:"queryTransferZoneLimit",value:function(t){return this.passport.request(Bt,t)}},{key:"getTransferRolesList",value:function(t){return this.passport.request(Mt,t)}},{key:"getGameZoneList",value:function(t){return this.passport.request(qt,t)}},{key:"getTransferConditions",value:function(t){return this.passport.request(Gt,t)}},{key:"transferRealCheck",value:function(t){return this.passport.request(Wt,t)}},{key:"transferRealAdd",value:function(t){return this.passport.request(Ut,t)}},{key:"transferApplication",value:function(t){return this.passport.request(Ft,t)}},{key:"getTransferStatus",value:function(t){return this.passport.request(Kt,t)}},{key:"getTransferHistory",value:function(t){return this.passport.request(zt,t)}},{key:"checkRoleStatus",value:function(t){return this.passport.request($t,t)}},{key:"getSubscribeRemind",value:function(t){return this.passport.request(Jt,t)}},{key:"emailSubscribe",value:function(t){return this.passport.request(Qt,t)}},{key:"emailSubscribeLink",value:function(t){return this.passport.request(Ht,t)}},{key:"getSubscribeList",value:function(t){return this.passport.request(Vt,t)}},{key:"bindEmail",value:function(t){return this.passport.request(tt,t)}}],r&&Cn(e.prototype,r),o&&Cn(e,o),Object.defineProperty(e,"prototype",{writable:!1}),d}(bn);An=Bn,Dn="getApiEnv",Rn=p.I,(Dn=Nn(Dn))in An?Object.defineProperty(An,Dn,{value:Rn,enumerable:!0,configurable:!0,writable:!0}):An[Dn]=Rn;const Mn=Bn},6324:(t,e,r)=>{"use strict";r.d(e,{P:()=>i});var n=r(6540),o=10;function i(){var t=(0,n.useRef)(0),e=(0,n.useRef)(0),r=(0,n.useRef)(0),i=(0,n.useRef)(0),a=(0,n.useRef)(0),c=(0,n.useRef)(0),u=(0,n.useRef)(""),l=function(){r.current=0,i.current=0,a.current=0,c.current=0,u.current=""};return{move:function(n){var l,s,f=n.touches[0];r.current=f.clientX<0?0:f.clientX-t.current,i.current=f.clientY-e.current,a.current=Math.abs(r.current),c.current=Math.abs(i.current),u.current||(u.current=(l=a.current,s=c.current,l>s&&l>o?"horizontal":s>l&&s>o?"vertical":""))},start:function(r){l(),t.current=r.touches[0].clientX,e.current=r.touches[0].clientY},reset:l,startX:t,startY:e,deltaX:r,deltaY:i,offsetX:a,offsetY:c,direction:u,isVertical:function(){return"vertical"===u.current},isHorizontal:function(){return"horizontal"===u.current}}}},6561:(t,e,r)=>{"use strict";r.d(e,{s:()=>p});var n=r(6540),o=r(5338),i=r(4848);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t){var e,r=n.forwardRef(function(r,o){var i=s((0,n.useState)(!1),2),a=i[0],c=i[1],l=(0,n.useRef)(!1);function f(){var r,n,o;null===(r=e)||void 0===r||r(),null===(n=(o=t.props).afterClose)||void 0===n||n.call(o)}function p(){var e,r;l.current=!0,c(!1),null===(e=(r=t.props).onClose)||void 0===e||e.call(r)}return(0,n.useEffect)(function(){l.current?f():c(!0)},[]),(0,n.useImperativeHandle)(o,function(){return{close:p}}),n.cloneElement(t,u(u({},t.props),{},{visible:a,onClose:p,afterClose:f}))}),a=n.createRef();return e=function(t){var e=document.createElement("div");document.body.appendChild(e);var r=(0,o.H)(e);return r.render(t),function(){r.unmount(),e.parentNode&&e.parentNode.removeChild(e)}}((0,i.jsx)(r,{ref:a})),{close:function(){var t;null===(t=a.current)||void 0===t||t.close()}}}},6573:(t,e,r)=>{"use strict";r.d(e,{MU:()=>c,fG:()=>i,gf:()=>f,m:()=>o,ns:()=>a,tj:()=>u,um:()=>s,ww:()=>l});var n=r(4686),o={dev:"https://risk-api-dev.papegames.com",test:"https://risk-api-test.papegames.com",pre:"https://risk-api-pre.papegames.com",prod:"https://risk-api.papegames.com"},i={dev:"https://risk-api-dev.papegames.com",test:"https://risk-api-test.papegames.com",pre:"https://risk-api-pre.infoldgames.com",prod:"https://risk-api.infoldgames.com"},a={dev:"https://apm-test.".concat(atob("cGFwZWdhbWVz"),".com:12101"),test:"https://apm-test.".concat(atob("cGFwZWdhbWVz"),".com:12101"),pre:"https://apm-pre.".concat(atob("cGFwZWdhbWVz"),".com:12101"),prod:"https://apm.papegames.com:12101"},c={dev:"https://apm-test.".concat(atob("cGFwZWdhbWVz"),".com:12101"),test:"https://apm-test.".concat(atob("cGFwZWdhbWVz"),".com:12101"),pre:"https://apm-pre.".concat(atob("aW5mb2xkZ2FtZXM="),".com"),prod:"https://apm.infoldgames.com"},u={dev:"https://passport-dev.papegames.com",test:"https://passport-test.papegames.com",pre:"https://passport-pre.papegames.com",prod:"https://passport.papegames.com"},l={dev:"https://passport-dev.papegames.com",test:"https://passport-test.papegames.com",pre:"https://passport-pre.infoldgames.com",prod:"https://passport.paperdb.com"},s=function(t){switch(t){case"evolTW":case"1011":case"evolJP":case"1017":case"nikki4TW":case"1019":case"nikki3TW":case"1110":return"https://passport.nikkisoft.com";case"deepspaceOther":case"nikki5Other":case"infold":return"https://passport.infoldgames.com"}return n.pT.includes(t)?"https://passport.infoldgames.com":""},f={dev:"https://chaos-dev.papegames.com",test:"https://chaos-test.papegames.com",pre:"https://chaos-pre.papegames.com",cn:"https://chaos.papegames.com",oversea:"https://chaos.infoldgames.com"}},7127:(t,e,r)=>{"use strict";r.d(e,{r:()=>i});var n=r(961);if(722!=r.j)var o=r(2329);function i(t,e){var r=(0,o.e)(t);return r?(0,n.createPortal)(e,r):e}},7468:(t,e,r)=>{"use strict";var n;r.d(e,{O:()=>o});var o=!("undefined"===typeof window||"undefined"===typeof document||null===(n=window.document)||void 0===n||!n.createElement)},7816:(t,e,r)=>{"use strict";function n(t,e){var r=t;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}r.d(e,{b:()=>n})},8207:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{x:()=>o});var o=function(t){var e=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(["",void 0,null].includes(o))continue;"object"===n(o)&&(o=JSON.stringify(o)),o=encodeURIComponent(o),e.push("".concat(r,"=").concat(o))}return e.join("&")}},8721:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{I:()=>c});var a="override",c=function(t){var e,r,i,c,u,l,s=!(null===t||void 0===t||!t.noDev);try{e=process.env.FORCEPRODUCTION}catch(b){}try{r=process.env.APP_ENV}catch(b){}try{i="prod"}catch(b){}try{c=void 0}catch(b){}if("object"===("undefined"===typeof window?"undefined":n(window))){var f,p=function(){var t={};return window.location.search.substring(1).split("&").forEach(function(e){var r=o(e.split("="),2),n=r[0],i=r[1];n&&(t[decodeURIComponent(n)]=decodeURIComponent(i||""))}),t}(),d=p.api,v="debug"in p,y=window.location.hostname,h=(null===(f=y.match(/-(dev|test|pre)(?=\.)/))||void 0===f?void 0:f[1])||"prod";if(v&&((u=d)&&["dev","test","pre","prod"].includes(u))){if("prod"!==h||"localhost"===y)return d;if(c&&c===a)return d}}try{if(e||"prod"===i)return"prod";if("pre"===i)return"pre";if("test"===i||"test"===r)return"test";if("prod"===r)return"prod";if(c&&"0"!==c&&c!==a||"dev"===r)return s?"test":"dev"}catch(b){}return"object"===("undefined"===typeof window?"undefined":n(window))?"localhost"===window.location.hostname?s?"test":"dev":(null===(l=window.location.hostname.match(/-(dev|test|pre)(?=\.)/))||void 0===l?void 0:l[1])||"prod":"prod"}},8759:(t,e,r)=>{"use strict";r.d(e,{R:()=>o});r(8987);var n=r(7468),o=function(t){var e;if(!t){if(!n.O)return"";t=location.href}var r=(null===(e=t.match(/^https?:\/\/([^/|^:]+)/))||void 0===e?void 0:e[1])||"",o=r.split("."),i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(r);return"localhost"===r||i?r:".".concat(o[o.length-2],".").concat(o[o.length-1])}},8868:(t,e,r)=>{"use strict";if(r.d(e,{v:()=>c}),722!=r.j)var n=r(4578);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(){function t(t,e){return void 0===e?t:e}for(var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},arguments.length<=0?void 0:arguments[0]),r=1;r<arguments.length;r++)e=(0,n.A)(e,r<0||arguments.length<=r?void 0:arguments[r],t);return e}},9014:(t,e,r)=>{"use strict";r.d(e,{a:()=>k});var n=r(6540),o=r(8321),i=r(1551),a=r(6942),c=r.n(a),u=r(3059),l=r(1129),s=r(8868),f=r(5071),p=r(7127),d=r(9848),v=r(4848);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w={showMask:!0,visible:!1,closeOnMaskClick:!1,stopPropagation:["click"],getContainer:null,disableBodyScroll:!0,showCloseIcon:!1,closeIconStyle:{color:"#ffffff",width:36,height:36}},O="me-modal",k=function(t){var e,r=(0,s.v)(w,t),a=(0,i.A)(),y=m((0,n.useState)(r.visible),2),g=y[0],k=y[1],S=(0,o.useSpring)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach(function(e){b(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({scale:r.visible?1:.8,opacity:r.visible?1:0,config:{mass:1.2,tension:200,friction:25,clamp:!0},onStart:function(){k(!0)},onRest:function(){var t,e;a.current||(k(r.visible),r.visible?null===(t=r.afterShow)||void 0===t||t.call(r):null===(e=r.afterClose)||void 0===e||e.call(r))}},(null===(e=r.spring)||void 0===e?void 0:e.call(r,r.visible))||{})),j=(0,d.r)(r.stopPropagation,(0,f.q)(r,(0,v.jsxs)("div",{className:c()(O,r.wrapClass),style:{display:g?"unset":"none"},children:[r.showMask&&(0,v.jsx)(l.n,{opacity:r.opacity,visible:r.visible,onMaskClick:r.closeOnMaskClick?r.onClose:void 0,className:"".concat(O,"-mask"),disableBodyScroll:r.disableBodyScroll}),(0,v.jsx)("div",{className:"".concat(O,"-wrap"),style:{pointerEvents:r.visible?"unset":"none"},children:(0,v.jsxs)(o.animated.div,{className:"".concat(O,"-animated-div"),style:r.springStyle?r.springStyle(S):S,children:[r.visible&&r.showCloseIcon?(0,v.jsx)("div",{className:"".concat(O,"-close-icon"),onClick:r.onClose,children:r.renderClose?r.renderClose:(0,v.jsx)(u.A,{style:r.closeIconStyle})}):null,"function"===typeof r.content?r.content():r.content||r.children]})})]})));return(0,p.r)(r.getContainer,j)}},9592:(t,e,r)=>{"use strict";r.d(e,{JT:()=>v,P3:()=>p,VN:()=>s,g1:()=>d});var n=r(7468);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(t){var e=document.createElement("a");return e.href=t,e},f=function(t){var e=t.match(/([^?=&]+)=([^?=&]+)/g)||[],r={};return e.forEach(function(t){var e=t.split("=");r[e[0]]=["undefined","null"].includes(e[1])?"":decodeURIComponent(e[1])}),r};function p(t,e){if(!n.O&&!e)throw new Error("ssr must has paramsUrl");if(!e){var r=location.search||location.hash;if(-1!==r.indexOf("?")&&(e=r),!e)return t?void 0:{}}var o=e.indexOf("?");o>-1&&(e=e.slice(1+o));var i=f(e);return t?i[t]:i}function d(t){var e=t.keys,r=t.url,n=void 0===r?window.location.href:r,o=s(n),i=o.search,a=o.hash;if(!i)return n;var c=f(i);e.forEach(function(t){delete c[t]});var l=Object.entries(c).map(function(t){var e=u(t,2),r=e[0],n=e[1];return"".concat(r,"=").concat(encodeURIComponent(n))}).join("&"),p=n.split("?")[0].split("#")[0],d=l?"".concat(p,"?").concat(l):p;return"".concat(d).concat(a||"")}function v(t){var e=t.params,r=t.url,n=void 0===r?window.location.href:r,o=s(n),i=o.search,c=o.hash,l=a(a({},i?f(i):{}),e),p=Object.entries(l).map(function(t){var e=u(t,2),r=e[0],n=e[1];return"".concat(r,"=").concat(encodeURIComponent(n))}).join("&"),d=n.split("?")[0].split("#")[0],v=p?"".concat(d,"?").concat(p):d;return"".concat(v).concat(c||"")}},9712:(t,e,r)=>{"use strict";r.d(e,{kB:()=>o});var n=function(t){return 1===String(t).length?"0".concat(t):t},o={getTimezone:function(){return(new Date).getTimezoneOffset()/60*-1},getUTCTime:function(){return(new Date).getTime()},formatDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YY-MM-DD hh:mm:ss",r=new Date(t),o=r.getFullYear(),i=r.getMonth()+1,a=r.getDate(),c=r.getHours(),u=r.getMinutes(),l=r.getSeconds(),s=r.getMilliseconds();return{year:o,month:i,day:a,hour:c,min:u,sec:l,formatTime:e.replace(/YY/g,String(o)).replace(/MM/g,String(n(i))).replace(/DD/g,String(n(a))).replace(/hh/g,String(n(c))).replace(/mm/g,String(n(u))).replace(/ss/g,String(n(l))).replace(/S/g,String(s))}}}},9848:(t,e,r)=>{"use strict";r.d(e,{r:()=>s});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={click:"onClick"};function s(t,e){var r,o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e.props),a=i(t);try{var s=function(){var t=r.value,n=l[t];o[n]=function(t){var r,o;t.stopPropagation(),null===(r=(o=e.props)[n])||void 0===r||r.call(o,t)}};for(a.s();!(r=a.n()).done;)s()}catch(f){a.e(f)}finally{a.f()}return n.cloneElement(e,o)}}}]);